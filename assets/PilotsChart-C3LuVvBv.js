import{g as Dn,r as T,j as q}from"./index-BPEHoCFy.js";import{p as to,i as xn,q as Gi,u as wt,v as Qt,x as io,A as Xi,l as ro,B as oo,C as Jt,D as ve,E as Pn,F as yn,G as Fn,J as ao,t as Vi,K as so,L as Ki,M as uo,N as Ni,P as lo,Q as co,R as fo,U as ho,V as go,W as Qi,a as mo,X as Ji,Y as po,Z as yo,_ as Zi,$ as er,a0 as nr,a1 as tr,a2 as ir,a3 as vo,a4 as rr,c as xo,a5 as bo,a6 as Mo,a7 as _o,a8 as To,d as ko,s as Zt,a9 as ei,aa as Co,ab as wo,ac as So,ad as Eo,ae as qo,af as $o,ag as Ao,ah as Po,ai as Fo,aj as jo,ak as Uo,al as Bo,am as Do,y as Oo,an as Io,ao as bt,ap as Ro,aq as Yo,g as Wo,ar as Lo,z as Ue,as as je,at as Ho,au as St,av as or,aw as ar,ax as zo,H as ni,ay as Go,S as sr,az as Xo,k as On,aA as Vo,w as Ko,aB as No,aC as Qo,aD as ur,aE as Jo,aF as Zo,aG as lr,I as cr,e as fr,aH as jn,aI as ea,aJ as na,aK as ta,aL as ti,aM as ia,f as ra,j as oa,O as ii,aN as aa,aO as hr}from"./isDate-JiBEZXn_.js";function sa(e,n,t){e=+e,n=+n,t=(i=arguments.length)<2?(n=e,e=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((n-e)/t))|0,o=new Array(i);++r<i;)o[r]=e+r*t;return o}function Et(){var e=to().unknown(void 0),n=e.domain,t=e.range,r=0,i=1,o,a,s=!1,u=0,c=0,h=.5;delete e.unknown;function l(){var f=n().length,d=i<r,m=d?i:r,g=d?r:i;o=(g-m)/Math.max(1,f-u+c*2),s&&(o=Math.floor(o)),m+=(g-m-o*(f-u))*h,a=o*(1-u),s&&(m=Math.round(m),a=Math.round(a));var p=sa(f).map(function(y){return m+o*y});return t(d?p.reverse():p)}return e.domain=function(f){return arguments.length?(n(f),l()):n()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,l()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,l()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(f){return arguments.length?(s=!!f,l()):s},e.padding=function(f){return arguments.length?(u=Math.min(1,c=+f),l()):u},e.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),l()):u},e.paddingOuter=function(f){return arguments.length?(c=+f,l()):c},e.align=function(f){return arguments.length?(h=Math.max(0,Math.min(1,f)),l()):h},e.copy=function(){return Et(n(),[r,i]).round(s).paddingInner(u).paddingOuter(c).align(h)},xn.apply(l(),arguments)}function dr(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return dr(n())},e}function ua(){return dr(Et.apply(null,arguments).paddingInner(1))}function gr(e,n){e=e.slice();var t=0,r=e.length-1,i=e[t],o=e[r],a;return o<i&&(a=t,t=r,r=a,a=i,i=o,o=a),e[t]=n.floor(i),e[r]=n.ceil(o),e}function ri(e){return Math.log(e)}function oi(e){return Math.exp(e)}function la(e){return-Math.log(-e)}function ca(e){return-Math.exp(-e)}function fa(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ha(e){return e===10?fa:e===Math.E?Math.exp:n=>Math.pow(e,n)}function da(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),n=>Math.log(n)/e)}function ai(e){return(n,t)=>-e(-n,t)}function ga(e){const n=e(ri,oi),t=n.domain;let r=10,i,o;function a(){return i=da(r),o=ha(r),t()[0]<0?(i=ai(i),o=ai(o),e(la,ca)):e(ri,oi),n}return n.base=function(s){return arguments.length?(r=+s,a()):r},n.domain=function(s){return arguments.length?(t(s),a()):t()},n.ticks=s=>{const u=t();let c=u[0],h=u[u.length-1];const l=h<c;l&&([c,h]=[h,c]);let f=i(c),d=i(h),m,g;const p=s==null?10:+s;let y=[];if(!(r%1)&&d-f<p){if(f=Math.floor(f),d=Math.ceil(d),c>0){for(;f<=d;++f)for(m=1;m<r;++m)if(g=f<0?m/o(-f):m*o(f),!(g<c)){if(g>h)break;y.push(g)}}else for(;f<=d;++f)for(m=r-1;m>=1;--m)if(g=f>0?m/o(-f):m*o(f),!(g<c)){if(g>h)break;y.push(g)}y.length*2<p&&(y=Qt(c,h,p))}else y=Qt(f,d,Math.min(d-f,p)).map(o);return l?y.reverse():y},n.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=io(u)).precision==null&&(u.trim=!0),u=Xi(u)),s===1/0)return u;const c=Math.max(1,r*s/n.ticks().length);return h=>{let l=h/o(Math.round(i(h)));return l*r<r-.5&&(l*=r),l<=c?u(h):""}},n.nice=()=>t(gr(t(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),n}function mr(){const e=ga(Gi()).domain([1,10]);return e.copy=()=>wt(e,mr()).base(e.base()),xn.apply(e,arguments),e}function si(e){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/e))}}function ui(e){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*e}}function ma(e){var n=1,t=e(si(n),ui(n));return t.constant=function(r){return arguments.length?e(si(n=+r),ui(n)):n},ro(t)}function pr(){var e=ma(Gi());return e.copy=function(){return wt(e,pr()).constant(e.constant())},xn.apply(e,arguments)}const Hn=new Date,zn=new Date;function X(e,n,t,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),n(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(n(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const u=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return u;let c;do u.push(c=new Date(+o)),n(o,s),e(o);while(c<o&&o<a);return u},i.filter=o=>X(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;n(a,-1),!o(a););else for(;--s>=0;)for(;n(a,1),!o(a););}),t&&(i.count=(o,a)=>(Hn.setTime(+o),zn.setTime(+a),e(Hn),e(zn),Math.floor(t(Hn,zn))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Un=X(()=>{},(e,n)=>{e.setTime(+e+n)},(e,n)=>n-e);Un.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?X(n=>{n.setTime(Math.floor(n/e)*e)},(n,t)=>{n.setTime(+n+t*e)},(n,t)=>(t-n)/e):Un);Un.range;const we=1e3,ce=we*60,Se=ce*60,qe=Se*24,qt=qe*7,li=qe*30,Gn=qe*365,Xe=X(e=>{e.setTime(e-e.getMilliseconds())},(e,n)=>{e.setTime(+e+n*we)},(e,n)=>(n-e)/we,e=>e.getUTCSeconds());Xe.range;const $t=X(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*we)},(e,n)=>{e.setTime(+e+n*ce)},(e,n)=>(n-e)/ce,e=>e.getMinutes());$t.range;const At=X(e=>{e.setUTCSeconds(0,0)},(e,n)=>{e.setTime(+e+n*ce)},(e,n)=>(n-e)/ce,e=>e.getUTCMinutes());At.range;const Pt=X(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*we-e.getMinutes()*ce)},(e,n)=>{e.setTime(+e+n*Se)},(e,n)=>(n-e)/Se,e=>e.getHours());Pt.range;const Ft=X(e=>{e.setUTCMinutes(0,0,0)},(e,n)=>{e.setTime(+e+n*Se)},(e,n)=>(n-e)/Se,e=>e.getUTCHours());Ft.range;const jt=X(e=>e.setHours(0,0,0,0),(e,n)=>e.setDate(e.getDate()+n),(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ce)/qe,e=>e.getDate()-1);jt.range;const yr=X(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/qe,e=>e.getUTCDate()-1);yr.range;const vr=X(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/qe,e=>Math.floor(e/qe));vr.range;function Ke(e){return X(n=>{n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)},(n,t)=>{n.setDate(n.getDate()+t*7)},(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*ce)/qt)}const Ut=Ke(0),pa=Ke(1),ya=Ke(2),va=Ke(3),xa=Ke(4),ba=Ke(5),Ma=Ke(6);Ut.range;pa.range;ya.range;va.range;xa.range;ba.range;Ma.range;function Ne(e){return X(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t*7)},(n,t)=>(t-n)/qt)}const Bt=Ne(0),_a=Ne(1),Ta=Ne(2),ka=Ne(3),Ca=Ne(4),wa=Ne(5),Sa=Ne(6);Bt.range;_a.range;Ta.range;ka.range;Ca.range;wa.range;Sa.range;const Dt=X(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,n)=>{e.setMonth(e.getMonth()+n)},(e,n)=>n.getMonth()-e.getMonth()+(n.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Dt.range;const Ot=X(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCMonth(e.getUTCMonth()+n)},(e,n)=>n.getUTCMonth()-e.getUTCMonth()+(n.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ot.range;const In=X(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n)},(e,n)=>n.getFullYear()-e.getFullYear(),e=>e.getFullYear());In.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:X(n=>{n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t*e)});In.range;const Rn=X(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n)},(e,n)=>n.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:X(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t*e)});Rn.range;function xr(e,n,t,r,i,o){const a=[[Xe,1,we],[Xe,5,5*we],[Xe,15,15*we],[Xe,30,30*we],[o,1,ce],[o,5,5*ce],[o,15,15*ce],[o,30,30*ce],[i,1,Se],[i,3,3*Se],[i,6,6*Se],[i,12,12*Se],[r,1,qe],[r,2,2*qe],[t,1,qt],[n,1,li],[n,3,3*li],[e,1,Gn]];function s(c,h,l){const f=h<c;f&&([c,h]=[h,c]);const d=l&&typeof l.range=="function"?l:u(c,h,l),m=d?d.range(c,+h+1):[];return f?m.reverse():m}function u(c,h,l){const f=Math.abs(h-c)/l,d=oo(([,,p])=>p).right(a,f);if(d===a.length)return e.every(Jt(c/Gn,h/Gn,l));if(d===0)return Un.every(Math.max(Jt(c,h,l),1));const[m,g]=a[f/a[d-1][2]<a[d][2]/f?d-1:d];return m.every(g)}return[s,u]}const[Ea,qa]=xr(Rn,Ot,Bt,vr,Ft,At),[$a,Aa]=xr(In,Dt,Ut,jt,Pt,$t);var vn=ve(function(){},function(e,n){e.setTime(+e+n)},function(e,n){return n-e});vn.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ve(function(n){n.setTime(Math.floor(n/e)*e)},function(n,t){n.setTime(+n+t*e)},function(n,t){return(t-n)/e}):vn};vn.range;var Mt=ve(function(e){e.setTime(e-e.getMilliseconds())},function(e,n){e.setTime(+e+n*Pn)},function(e,n){return(n-e)/Pn},function(e){return e.getUTCSeconds()});Mt.range;var br=ve(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pn)},function(e,n){e.setTime(+e+n*yn)},function(e,n){return(n-e)/yn},function(e){return e.getMinutes()});br.range;var Mr=ve(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pn-e.getMinutes()*yn)},function(e,n){e.setTime(+e+n*Fn)},function(e,n){return(n-e)/Fn},function(e){return e.getHours()});Mr.range;var _r=ve(function(e){e.setUTCSeconds(0,0)},function(e,n){e.setTime(+e+n*yn)},function(e,n){return(n-e)/yn},function(e){return e.getUTCMinutes()});_r.range;var Tr=ve(function(e){e.setUTCMinutes(0,0,0)},function(e,n){e.setTime(+e+n*Fn)},function(e,n){return(n-e)/Fn},function(e){return e.getUTCHours()});Tr.range;var kr=ve(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCMonth(e.getUTCMonth()+n)},function(e,n){return n.getUTCMonth()-e.getUTCMonth()+(n.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});kr.range;function Pa(e){return new Date(e)}function Fa(e){return e instanceof Date?+e:+new Date(+e)}function It(e,n,t,r,i,o,a,s,u,c){var h=ao(),l=h.invert,f=h.domain,d=c(".%L"),m=c(":%S"),g=c("%I:%M"),p=c("%I %p"),y=c("%a %d"),v=c("%b %d"),M=c("%B"),k=c("%Y");function S(b){return(u(b)<b?d:s(b)<b?m:a(b)<b?g:o(b)<b?p:r(b)<b?i(b)<b?y:v:t(b)<b?M:k)(b)}return h.invert=function(b){return new Date(l(b))},h.domain=function(b){return arguments.length?f(Array.from(b,Fa)):f().map(Pa)},h.ticks=function(b){var A=f();return e(A[0],A[A.length-1],b??10)},h.tickFormat=function(b,A){return A==null?S:c(A)},h.nice=function(b){var A=f();return(!b||typeof b.range!="function")&&(b=n(A[0],A[A.length-1],b??10)),b?f(gr(A,b)):h},h.copy=function(){return wt(h,It(e,n,t,r,i,o,a,s,u,c))},h}function ja(){return xn.apply(It($a,Aa,In,Dt,Ut,jt,Pt,$t,Xe,Vi).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ua(){return xn.apply(It(Ea,qa,Rn,Ot,Bt,yr,Ft,At,Xe,so).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function N(e){return function(){return e}}const _t=Math.PI,Tt=2*_t,ze=1e-6,Ba=Tt-ze;function Cr(e){this._+=e[0];for(let n=1,t=e.length;n<t;++n)this._+=arguments[n]+e[n]}function Da(e){let n=Math.floor(e);if(!(n>=0))throw new Error(`invalid digits: ${e}`);if(n>15)return Cr;const t=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}let Oa=class{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Cr:Da(n)}moveTo(n,t){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,t){this._append`L${this._x1=+n},${this._y1=+t}`}quadraticCurveTo(n,t,r,i){this._append`Q${+n},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,t,r,i,o,a){this._append`C${+n},${+t},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(n,t,r,i,o){if(n=+n,t=+t,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,u=r-n,c=i-t,h=a-n,l=s-t,f=h*h+l*l;if(this._x1===null)this._append`M${this._x1=n},${this._y1=t}`;else if(f>ze)if(!(Math.abs(l*u-c*h)>ze)||!o)this._append`L${this._x1=n},${this._y1=t}`;else{let d=r-a,m=i-s,g=u*u+c*c,p=d*d+m*m,y=Math.sqrt(g),v=Math.sqrt(f),M=o*Math.tan((_t-Math.acos((g+f-p)/(2*y*v)))/2),k=M/v,S=M/y;Math.abs(k-1)>ze&&this._append`L${n+k*h},${t+k*l}`,this._append`A${o},${o},0,0,${+(l*d>h*m)},${this._x1=n+S*u},${this._y1=t+S*c}`}}arc(n,t,r,i,o,a){if(n=+n,t=+t,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),u=r*Math.sin(i),c=n+s,h=t+u,l=1^a,f=a?i-o:o-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>ze||Math.abs(this._y1-h)>ze)&&this._append`L${c},${h}`,r&&(f<0&&(f=f%Tt+Tt),f>Ba?this._append`A${r},${r},0,1,${l},${n-s},${t-u}A${r},${r},0,1,${l},${this._x1=c},${this._y1=h}`:f>ze&&this._append`A${r},${r},0,${+(f>=_t)},${l},${this._x1=n+r*Math.cos(o)},${this._y1=t+r*Math.sin(o)}`)}rect(n,t,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function wr(e){let n=3;return e.digits=function(t){if(!arguments.length)return n;if(t==null)n=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);n=r}return e},()=>new Oa(n)}function Sr(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Er(e){return e[0]}function qr(e){return e[1]}function $r(e,n){var t=N(!0),r=null,i=Ki,o=null,a=wr(s);e=typeof e=="function"?e:e===void 0?Er:N(e),n=typeof n=="function"?n:n===void 0?qr:N(n);function s(u){var c,h=(u=Sr(u)).length,l,f=!1,d;for(r==null&&(o=i(d=a())),c=0;c<=h;++c)!(c<h&&t(l=u[c],c,u))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(l,c,u),+n(l,c,u));if(d)return o=null,d+""||null}return s.x=function(u){return arguments.length?(e=typeof u=="function"?u:N(+u),s):e},s.y=function(u){return arguments.length?(n=typeof u=="function"?u:N(+u),s):n},s.defined=function(u){return arguments.length?(t=typeof u=="function"?u:N(!!u),s):t},s.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),s):i},s.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),s):r},s}function Ia(e,n,t){var r=null,i=N(!0),o=null,a=Ki,s=null,u=wr(c);e=typeof e=="function"?e:e===void 0?Er:N(+e),n=typeof n=="function"?n:N(n===void 0?0:+n),t=typeof t=="function"?t:t===void 0?qr:N(+t);function c(l){var f,d,m,g=(l=Sr(l)).length,p,y=!1,v,M=new Array(g),k=new Array(g);for(o==null&&(s=a(v=u())),f=0;f<=g;++f){if(!(f<g&&i(p=l[f],f,l))===y)if(y=!y)d=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=f-1;m>=d;--m)s.point(M[m],k[m]);s.lineEnd(),s.areaEnd()}y&&(M[f]=+e(p,f,l),k[f]=+n(p,f,l),s.point(r?+r(p,f,l):M[f],t?+t(p,f,l):k[f]))}if(v)return s=null,v+""||null}function h(){return $r().defined(i).curve(a).context(o)}return c.x=function(l){return arguments.length?(e=typeof l=="function"?l:N(+l),r=null,c):e},c.x0=function(l){return arguments.length?(e=typeof l=="function"?l:N(+l),c):e},c.x1=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:N(+l),c):r},c.y=function(l){return arguments.length?(n=typeof l=="function"?l:N(+l),t=null,c):n},c.y0=function(l){return arguments.length?(n=typeof l=="function"?l:N(+l),c):n},c.y1=function(l){return arguments.length?(t=l==null?null:typeof l=="function"?l:N(+l),c):t},c.lineX0=c.lineY0=function(){return h().x(e).y(n)},c.lineY1=function(){return h().x(e).y(t)},c.lineX1=function(){return h().x(r).y(n)},c.defined=function(l){return arguments.length?(i=typeof l=="function"?l:N(!!l),c):i},c.curve=function(l){return arguments.length?(a=l,o!=null&&(s=a(o)),c):a},c.context=function(l){return arguments.length?(l==null?o=s=null:s=a(o=l),c):o},c}var Xn,ci;function Ra(){if(ci)return Xn;ci=1;function e(){}return Xn=e,Xn}var Vn,fi;function Ya(){if(fi)return Vn;fi=1;var e=uo(),n=Ra(),t=Ni(),r=1/0,i=e&&1/t(new e([,-0]))[1]==r?function(o){return new e(o)}:n;return Vn=i,Vn}var Kn,hi;function Ar(){if(hi)return Kn;hi=1;var e=lo(),n=co(),t=fo(),r=ho(),i=Ya(),o=Ni(),a=200;function s(u,c,h){var l=-1,f=n,d=u.length,m=!0,g=[],p=g;if(h)m=!1,f=t;else if(d>=a){var y=c?null:i(u);if(y)return o(y);m=!1,f=r,p=new e}else p=c?[]:g;e:for(;++l<d;){var v=u[l],M=c?c(v):v;if(v=h||v!==0?v:0,m&&M===M){for(var k=p.length;k--;)if(p[k]===M)continue e;c&&p.push(M),g.push(v)}else f(p,M,h)||(p!==g&&p.push(M),g.push(v))}return g}return Kn=s,Kn}var Nn,di;function Wa(){if(di)return Nn;di=1;var e=Ar();function n(t){return t&&t.length?e(t):[]}return Nn=n,Nn}var La=Wa();const gi=Dn(La);var Qn,mi;function Ha(){if(mi)return Qn;mi=1;var e=go(),n=Qi(),t=1,r=2;function i(o,a,s,u){var c=s.length,h=c,l=!u;if(o==null)return!h;for(o=Object(o);c--;){var f=s[c];if(l&&f[2]?f[1]!==o[f[0]]:!(f[0]in o))return!1}for(;++c<h;){f=s[c];var d=f[0],m=o[d],g=f[1];if(l&&f[2]){if(m===void 0&&!(d in o))return!1}else{var p=new e;if(u)var y=u(m,g,d,o,a,p);if(!(y===void 0?n(g,m,t|r,u,p):y))return!1}}return!0}return Qn=i,Qn}var Jn,pi;function Pr(){if(pi)return Jn;pi=1;var e=mo();function n(t){return t===t&&!e(t)}return Jn=n,Jn}var Zn,yi;function za(){if(yi)return Zn;yi=1;var e=Pr(),n=Ji();function t(r){for(var i=n(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return Zn=t,Zn}var et,vi;function Fr(){if(vi)return et;vi=1;function e(n,t){return function(r){return r==null?!1:r[n]===t&&(t!==void 0||n in Object(r))}}return et=e,et}var nt,xi;function Ga(){if(xi)return nt;xi=1;var e=Ha(),n=za(),t=Fr();function r(i){var o=n(i);return o.length==1&&o[0][2]?t(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return nt=r,nt}var tt,bi;function Xa(){if(bi)return tt;bi=1;var e=Qi(),n=po(),t=yo(),r=Zi(),i=Pr(),o=Fr(),a=er(),s=1,u=2;function c(h,l){return r(h)&&i(l)?o(a(h),l):function(f){var d=n(f,h);return d===void 0&&d===l?t(f,h):e(l,d,s|u)}}return tt=c,tt}var it,Mi;function Va(){if(Mi)return it;Mi=1;function e(n){return function(t){return t==null?void 0:t[n]}}return it=e,it}var rt,_i;function Ka(){if(_i)return rt;_i=1;var e=nr();function n(t){return function(r){return e(r,t)}}return rt=n,rt}var ot,Ti;function Na(){if(Ti)return ot;Ti=1;var e=Va(),n=Ka(),t=Zi(),r=er();function i(o){return t(o)?e(r(o)):n(o)}return ot=i,ot}var at,ki;function jr(){if(ki)return at;ki=1;var e=Ga(),n=Xa(),t=tr(),r=ir(),i=Na();function o(a){return typeof a=="function"?a:a==null?t:typeof a=="object"?r(a)?n(a[0],a[1]):e(a):i(a)}return at=o,at}var st,Ci;function Qa(){if(Ci)return st;Ci=1;var e=jr(),n=Ar();function t(r,i){return r&&r.length?n(r,e(i,2)):[]}return st=t,st}var Ja=Qa();const Za=Dn(Ja);var ut,wi;function es(){if(wi)return ut;wi=1;var e=vo(),n=Ji();function t(r,i){return r&&e(r,i,n)}return ut=t,ut}var lt,Si;function ns(){if(Si)return lt;Si=1;var e=rr();function n(t,r){return function(i,o){if(i==null)return i;if(!e(i))return t(i,o);for(var a=i.length,s=r?a:-1,u=Object(i);(r?s--:++s<a)&&o(u[s],s,u)!==!1;);return i}}return lt=n,lt}var ct,Ei;function ts(){if(Ei)return ct;Ei=1;var e=es(),n=ns(),t=n(e);return ct=t,ct}var ft,qi;function is(){if(qi)return ft;qi=1;var e=ts(),n=rr();function t(r,i){var o=-1,a=n(r)?Array(r.length):[];return e(r,function(s,u,c){a[++o]=i(s,u,c)}),a}return ft=t,ft}var ht,$i;function rs(){if($i)return ht;$i=1;function e(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}return ht=e,ht}var dt,Ai;function os(){if(Ai)return dt;Ai=1;var e=xo();function n(t,r){if(t!==r){var i=t!==void 0,o=t===null,a=t===t,s=e(t),u=r!==void 0,c=r===null,h=r===r,l=e(r);if(!c&&!l&&!s&&t>r||s&&u&&h&&!c&&!l||o&&u&&h||!i&&h||!a)return 1;if(!o&&!s&&!l&&t<r||l&&i&&a&&!o&&!s||c&&i&&a||!u&&a||!h)return-1}return 0}return dt=n,dt}var gt,Pi;function as(){if(Pi)return gt;Pi=1;var e=os();function n(t,r,i){for(var o=-1,a=t.criteria,s=r.criteria,u=a.length,c=i.length;++o<u;){var h=e(a[o],s[o]);if(h){if(o>=c)return h;var l=i[o];return h*(l=="desc"?-1:1)}}return t.index-r.index}return gt=n,gt}var mt,Fi;function ss(){if(Fi)return mt;Fi=1;var e=Mo(),n=nr(),t=jr(),r=is(),i=rs(),o=bo(),a=as(),s=tr(),u=ir();function c(h,l,f){l.length?l=e(l,function(g){return u(g)?function(p){return n(p,g.length===1?g[0]:g)}:g}):l=[s];var d=-1;l=e(l,o(t));var m=r(h,function(g,p,y){var v=e(l,function(M){return M(g)});return{criteria:v,index:++d,value:g}});return i(m,function(g,p){return a(g,p,f)})}return mt=c,mt}var pt,ji;function us(){if(ji)return pt;ji=1;var e=_o(),n=ss(),t=To(),r=ko(),i=t(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),n(o,e(a,1),[])});return pt=i,pt}var ls=us();const cs=Dn(ls);function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ge.apply(this,arguments)}var tn=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],fs={millisecond:[],second:tn.slice(0,1),minute:tn.slice(0,2),hour:tn.slice(0,3),day:tn.slice(0,4),month:tn.slice(0,5),year:tn.slice(0,6)},hs=function(e){return function(n){return fs[e].forEach(function(t){t(n)}),n}},Ur=function(e){var n=e.format,t=n===void 0?"native":n,r=e.precision,i=r===void 0?"millisecond":r,o=e.useUTC,a=o===void 0||o,s=hs(i);return function(u){if(u===void 0)return u;if(t==="native"||u instanceof Date)return s(u);var c=a?Ro(t):Yo(t);return s(c(u))}},ds=function(e,n,t,r){var i,o,a,s,u=e.min,c=u===void 0?0:u,h=e.max,l=h===void 0?"auto":h,f=e.stacked,d=f!==void 0&&f,m=e.reverse,g=m!==void 0&&m,p=e.clamp,y=p!==void 0&&p,v=e.nice,M=v!==void 0&&v;c==="auto"?i=d===!0?(o=n.minStacked)!=null?o:0:n.min:i=c,l==="auto"?a=d===!0?(s=n.maxStacked)!=null?s:0:n.max:a=l;var k=Lo().rangeRound(r==="x"?[0,t]:[t,0]).domain(g?[a,i]:[i,a]).clamp(y);return M===!0?k.nice():typeof M=="number"&&k.nice(M),gs(k,d)},gs=function(e,n){n===void 0&&(n=!1);var t=e;return t.type="linear",t.stacked=n,t},ms=function(e,n,t){var r=ua().range([0,t]).domain(n.all);return r.type="point",r},ps=function(e,n,t,r){var i=e.round,o=i===void 0||i,a=Et().range(r==="x"?[0,t]:[t,0]).domain(n.all).round(o);return ys(a)},ys=function(e){var n=e;return n.type="band",n},vs=function(e,n,t){var r,i,o=e.format,a=o===void 0?"native":o,s=e.precision,u=s===void 0?"millisecond":s,c=e.min,h=c===void 0?"auto":c,l=e.max,f=l===void 0?"auto":l,d=e.useUTC,m=d===void 0||d,g=e.nice,p=g!==void 0&&g,y=Ur({format:a,precision:u,useUTC:m});r=h==="auto"?y(n.min):a!=="native"?y(h):h,i=f==="auto"?y(n.max):a!=="native"?y(f):f;var v=m?Ua():ja();v.range([0,t]),r&&i&&v.domain([r,i]),p===!0?v.nice():typeof p!="object"&&typeof p!="number"||v.nice(p);var M=v;return M.type="time",M.useUTC=m,M},xs=function(e,n,t,r){var i,o=e.base,a=o===void 0?10:o,s=e.min,u=s===void 0?"auto":s,c=e.max,h=c===void 0?"auto":c;if(n.all.some(function(g){return g===0}))throw new Error("a log scale domain must not include or cross zero");var l,f,d=!1;if(n.all.filter(function(g){return g!=null}).forEach(function(g){d||(i===void 0?i=Math.sign(g):Math.sign(g)!==i&&(d=!0))}),d)throw new Error("a log scale domain must be strictly-positive or strictly-negative");l=u==="auto"?n.min:u,f=h==="auto"?n.max:h;var m=mr().domain([l,f]).rangeRound(r==="x"?[0,t]:[t,0]).base(a).nice();return m.type="log",m},bs=function(e,n,t,r){var i,o,a=e.constant,s=a===void 0?1:a,u=e.min,c=u===void 0?"auto":u,h=e.max,l=h===void 0?"auto":h,f=e.reverse,d=f!==void 0&&f;i=c==="auto"?n.min:c,o=l==="auto"?n.max:l;var m=pr().constant(s).rangeRound(r==="x"?[0,t]:[t,0]).nice();d===!0?m.domain([o,i]):m.domain([i,o]);var g=m;return g.type="symlog",g},Ms=function(e){return e==="x"?"y":"x"},_s=function(e,n){return e===n},Ts=function(e,n){return e.getTime()===n.getTime()};function Ui(e,n,t,r){switch(e.type){case"linear":return ds(e,n,t,r);case"point":return ms(e,n,t);case"band":return ps(e,n,t,r);case"time":return vs(e,n,t);case"log":return xs(e,n,t,r);case"symlog":return bs(e,n,t,r);default:throw new Error("invalid scale spec")}}var Bi=function(e,n,t){var r;if("stacked"in t&&t.stacked){var i=e.data[n==="x"?"xStacked":"yStacked"];return i==null?null:t(i)}return(r=t(e.data[n]))!=null?r:null},ks=function(e,n,t,r,i){var o=e.map(function(h){return function(l){return Ge({},l,{data:l.data.map(function(f){return{data:Ge({},f)}})})}(h)}),a=Cs(o,n,t);"stacked"in n&&n.stacked===!0&&ws(a,o),"stacked"in t&&t.stacked===!0&&Ss(a,o);var s=Ui(n,a.x,r,"x"),u=Ui(t,a.y,i,"y"),c=o.map(function(h){return Ge({},h,{data:h.data.map(function(l){return Ge({},l,{position:{x:Bi(l,"x",s),y:Bi(l,"y",u)}})})})});return Ge({},a,{series:c,xScale:s,yScale:u})},Cs=function(e,n,t){return{x:Di(e,"x",n),y:Di(e,"y",t)}},Di=function(e,n,t,r){var i={},o=i.getValue,a=o===void 0?function(m){return m.data[n]}:o,s=i.setValue,u=s===void 0?function(m,g){m.data[n]=g}:s;if(t.type==="linear")e.forEach(function(m){m.data.forEach(function(g){var p=a(g);p&&u(g,parseFloat(String(p)))})});else if(t.type==="time"&&t.format!=="native"){var c=Ur(t);e.forEach(function(m){m.data.forEach(function(g){var p=a(g);p&&u(g,c(p))})})}var h=[];switch(e.forEach(function(m){m.data.forEach(function(g){h.push(a(g))})}),t.type){case"linear":var l=cs(gi(h).filter(function(m){return m!==null}),function(m){return m});return{all:l,min:Math.min.apply(Math,l),max:Math.max.apply(Math,l)};case"time":var f=Za(h,function(m){return m.getTime()}).slice(0).sort(function(m,g){return g.getTime()-m.getTime()}).reverse();return{all:f,min:f[0],max:bt(f)};default:var d=gi(h);return{all:d,min:d[0],max:bt(d)}}},Br=function(e,n,t){var r=Ms(e),i=[];n[r].all.forEach(function(o){var a=Wo(o)?Ts:_s,s=[];t.forEach(function(u){var c=u.data.find(function(d){return a(d.data[r],o)}),h=null,l=null;if(c!==void 0){if((h=c.data[e])!==null){var f=bt(s);f===void 0?l=h:f!==null&&(l=f+h)}c.data[e==="x"?"xStacked":"yStacked"]=l}s.push(l),l!==null&&i.push(l)})}),n[e].minStacked=Math.min.apply(Math,i),n[e].maxStacked=Math.max.apply(Math,i)},ws=function(e,n){return Br("x",e,n)},Ss=function(e,n){return Br("y",e,n)},Dr=function(e){var n=e.bandwidth();if(n===0)return e;var t=n/2;return e.round()&&(t=Math.round(t)),function(r){var i;return((i=e(r))!=null?i:0)+t}},Or={millisecond:[vn,vn],second:[Mt,Mt],minute:[br,_r],hour:[Mr,Tr],day:[ve(function(e){return e.setHours(0,0,0,0)},function(e,n){return e.setDate(e.getDate()+n)},function(e,n){return(n.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)}),ve(function(e){return e.setUTCHours(0,0,0,0)},function(e,n){return e.setUTCDate(e.getUTCDate()+n)},function(e,n){return(n.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)})],week:[Zt,ei],sunday:[Zt,ei],monday:[Co,wo],tuesday:[So,Eo],wednesday:[qo,$o],thursday:[Ao,Po],friday:[Fo,jo],saturday:[Uo,Bo],month:[Do,kr],year:[Oo,Io]},Es=Object.keys(Or),qs=new RegExp("^every\\s*(\\d+)?\\s*("+Es.join("|")+")s?$","i"),Ir=function(e,n){if(Array.isArray(n))return n;if(typeof n=="string"&&"useUTC"in e){var t=n.match(qs);if(t){var r=t[1],i=t[2],o=Or[i][e.useUTC?1:0];if(i==="day"){var a,s,u=e.domain(),c=u[0],h=u[1],l=new Date(h);return l.setDate(l.getDate()+1),(a=(s=o.every(Number(r??1)))==null?void 0:s.range(c,l))!=null?a:[]}if(r===void 0)return e.ticks(o);var f=o.every(Number(r));if(f)return e.ticks(f)}throw new Error("Invalid tickValues: "+n)}if("ticks"in e){if(n===void 0)return e.ticks();if(typeof(d=n)=="number"&&isFinite(d)&&Math.floor(d)===d)return e.ticks(n)}var d;return e.domain()};function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},fe.apply(this,arguments)}var Rr=function(e){var n,t=e.axis,r=e.scale,i=e.ticksPosition,o=e.tickValues,a=e.tickSize,s=e.tickPadding,u=e.tickRotation,c=e.truncateTickAt,h=e.engine,l=h===void 0?"svg":h,f=Ir(r,o),d=zo[l],m="bandwidth"in r?Dr(r):r,g={lineX:0,lineY:0},p={textX:0,textY:0},y=typeof document=="object"&&document.dir==="rtl",v=d.align.center,M=d.baseline.center;return t==="x"?(n=function(k){var S;return{x:(S=m(k))!=null?S:0,y:0}},g.lineY=a*(i==="after"?1:-1),p.textY=(a+s)*(i==="after"?1:-1),M=i==="after"?d.baseline.top:d.baseline.bottom,u===0?v=d.align.center:i==="after"&&u<0||i==="before"&&u>0?(v=d.align[y?"left":"right"],M=d.baseline.center):(i==="after"&&u>0||i==="before"&&u<0)&&(v=d.align[y?"right":"left"],M=d.baseline.center)):(n=function(k){var S;return{x:0,y:(S=m(k))!=null?S:0}},g.lineX=a*(i==="after"?1:-1),p.textX=(a+s)*(i==="after"?1:-1),v=i==="after"?d.align.left:d.align.right),{ticks:f.map(function(k){var S=typeof k=="string"?function(b){var A=String(b).length;return c&&c>0&&A>c?""+String(b).slice(0,c).concat("..."):""+b}(k):k;return fe({key:k instanceof Date?""+k.valueOf():""+k,value:S},n(k),g,p)}),textAlign:v,textBaseline:M}},Yr=function(e,n){if(e===void 0||typeof e=="function")return e;if(n.type==="time"){var t=Vi(e);return function(r){return t(r instanceof Date?r:new Date(r))}}return Xi(e)},kt=function(e){var n,t=e.width,r=e.height,i=e.scale,o=e.axis,a=e.values,s=(n=a,(Array.isArray(n)?a:void 0)||Ir(i,a)),u="bandwidth"in i?Dr(i):i,c=o==="x"?s.map(function(h){var l,f;return{key:h instanceof Date?""+h.valueOf():""+h,x1:(l=u(h))!=null?l:0,x2:(f=u(h))!=null?f:0,y1:0,y2:r}}):s.map(function(h){var l,f;return{key:h instanceof Date?""+h.valueOf():""+h,x1:0,x2:t,y1:(l=u(h))!=null?l:0,y2:(f=u(h))!=null?f:0}});return c},$s=T.memo(function(e){var n,t=e.value,r=e.format,i=e.lineX,o=e.lineY,a=e.onClick,s=e.textBaseline,u=e.textAnchor,c=e.animatedProps,h=Ue(),l=h.axis.ticks.line,f=h.axis.ticks.text,d=(n=r==null?void 0:r(t))!=null?n:t,m=T.useMemo(function(){var g={opacity:c.opacity};return a?{style:fe({},g,{cursor:"pointer"}),onClick:function(p){return a(p,d)}}:{style:g}},[c.opacity,a,d]);return q.jsxs(je.g,fe({transform:c.transform},m,{children:[q.jsx("line",{x1:0,x2:i,y1:0,y2:o,style:l}),f.outlineWidth>0&&q.jsx(je.text,{dominantBaseline:s,textAnchor:u,transform:c.textTransform,style:f,strokeWidth:2*f.outlineWidth,stroke:f.outlineColor,strokeLinejoin:"round",children:""+d}),q.jsx(je.text,{dominantBaseline:s,textAnchor:u,transform:c.textTransform,style:Ho(f),children:""+d})]}))}),As=function(e){var n=e.axis,t=e.scale,r=e.x,i=r===void 0?0:r,o=e.y,a=o===void 0?0:o,s=e.length,u=e.ticksPosition,c=e.tickValues,h=e.tickSize,l=h===void 0?5:h,f=e.tickPadding,d=f===void 0?5:f,m=e.tickRotation,g=m===void 0?0:m,p=e.format,y=e.renderTick,v=y===void 0?$s:y,M=e.truncateTickAt,k=e.legend,S=e.legendPosition,b=S===void 0?"end":S,A=e.legendOffset,E=A===void 0?0:A,x=e.onClick,_=e.ariaHidden,C=Ue(),$=C.axis.legend.text,w=T.useMemo(function(){return Yr(p,t)},[p,t]),j=Rr({axis:n,scale:t,ticksPosition:u,tickValues:c,tickSize:l,tickPadding:d,tickRotation:g,truncateTickAt:M}),D=j.ticks,P=j.textAlign,R=j.textBaseline,Y=null;if(k!==void 0){var F,W=0,H=0,Z=0;n==="y"?(Z=-90,W=E,b==="start"?(F="start",H=s):b==="middle"?(F="middle",H=s/2):b==="end"&&(F="end")):(H=E,b==="start"?F="start":b==="middle"?(F="middle",W=s/2):b==="end"&&(F="end",W=s)),Y=q.jsxs(q.Fragment,{children:[$.outlineWidth>0&&q.jsx("text",{transform:"translate("+W+", "+H+") rotate("+Z+")",textAnchor:F,style:fe({dominantBaseline:"central"},$),strokeWidth:2*$.outlineWidth,stroke:$.outlineColor,strokeLinejoin:"round",children:k}),q.jsx("text",{transform:"translate("+W+", "+H+") rotate("+Z+")",textAnchor:F,style:fe({dominantBaseline:"central"},$),children:k})]})}var oe=St(),ae=oe.animate,he=oe.config,te=ar({transform:"translate("+i+","+a+")",lineX2:n==="x"?s:0,lineY2:n==="x"?0:s,config:he,immediate:!ae}),se=T.useCallback(function(O){return{opacity:1,transform:"translate("+O.x+","+O.y+")",textTransform:"translate("+O.textX+","+O.textY+") rotate("+g+")"}},[g]),U=T.useCallback(function(O){return{opacity:0,transform:"translate("+O.x+","+O.y+")",textTransform:"translate("+O.textX+","+O.textY+") rotate("+g+")"}},[g]),B=or(D,{keys:function(O){return O.key},initial:se,from:U,enter:se,update:se,leave:{opacity:0},config:he,immediate:!ae});return q.jsxs(je.g,{transform:te.transform,"aria-hidden":_,children:[B(function(O,L,V,K){return T.createElement(v,fe({tickIndex:K,format:w,rotate:g,textBaseline:R,textAnchor:P,truncateTickAt:M,animatedProps:O},L,x?{onClick:x}:{}))}),q.jsx(je.line,{style:C.axis.domain.line,x1:0,x2:te.lineX2,y1:0,y2:te.lineY2}),Y]})},Ps=T.memo(As),Wr=["top","right","bottom","left"],Fs=T.memo(function(e){var n=e.xScale,t=e.yScale,r=e.width,i=e.height,o={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return q.jsx(q.Fragment,{children:Wr.map(function(a){var s=o[a];if(!s)return null;var u=a==="top"||a==="bottom";return q.jsx(Ps,fe({},s,{axis:u?"x":"y",x:a==="right"?r:0,y:a==="bottom"?i:0,scale:u?n:t,length:u?r:i,ticksPosition:a==="top"||a==="left"?"before":"after",truncateTickAt:s.truncateTickAt}),a)})})}),js=T.memo(function(e){var n=e.animatedProps,t=Ue();return q.jsx(je.line,fe({},n,t.grid.line))}),Oi=T.memo(function(e){var n=e.lines,t=St(),r=t.animate,i=t.config,o=or(n,{keys:function(a){return a.key},initial:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},from:function(a){return{opacity:0,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},enter:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},update:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},leave:{opacity:0},config:i,immediate:!r});return q.jsx("g",{children:o(function(a,s){return T.createElement(js,fe({},s,{key:s.key,animatedProps:a}))})})}),Us=T.memo(function(e){var n=e.width,t=e.height,r=e.xScale,i=e.yScale,o=e.xValues,a=e.yValues,s=T.useMemo(function(){return!!r&&kt({width:n,height:t,scale:r,axis:"x",values:o})},[r,o,n,t]),u=T.useMemo(function(){return!!i&&kt({width:n,height:t,scale:i,axis:"y",values:a})},[t,n,i,a]);return q.jsxs(q.Fragment,{children:[s&&q.jsx(Oi,{lines:s}),u&&q.jsx(Oi,{lines:u})]})}),Bs=function(e,n){var t,r=n.axis,i=n.scale,o=n.x,a=o===void 0?0:o,s=n.y,u=s===void 0?0:s,c=n.length,h=n.ticksPosition,l=n.tickValues,f=n.tickSize,d=f===void 0?5:f,m=n.tickPadding,g=m===void 0?5:m,p=n.tickRotation,y=p===void 0?0:p,v=n.format,M=n.legend,k=n.legendPosition,S=k===void 0?"end":k,b=n.legendOffset,A=b===void 0?0:b,E=n.theme,x=Rr({axis:r,scale:i,ticksPosition:h,tickValues:l,tickSize:d,tickPadding:g,tickRotation:y,engine:"canvas"}),_=x.ticks,C=x.textAlign,$=x.textBaseline;e.save(),e.translate(a,u),e.textAlign=C,e.textBaseline=$;var w=E.axis.ticks.text;e.font=(w.fontWeight?w.fontWeight+" ":"")+w.fontSize+"px "+w.fontFamily,((t=E.axis.domain.line.strokeWidth)!=null?t:0)>0&&(e.lineWidth=Number(E.axis.domain.line.strokeWidth),e.lineCap="square",E.axis.domain.line.stroke&&(e.strokeStyle=E.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo(r==="x"?c:0,r==="x"?0:c),e.stroke());var j=typeof v=="function"?v:function(F){return""+F};if(_.forEach(function(F){var W;((W=E.axis.ticks.line.strokeWidth)!=null?W:0)>0&&(e.lineWidth=Number(E.axis.ticks.line.strokeWidth),e.lineCap="square",E.axis.ticks.line.stroke&&(e.strokeStyle=E.axis.ticks.line.stroke),e.beginPath(),e.moveTo(F.x,F.y),e.lineTo(F.x+F.lineX,F.y+F.lineY),e.stroke());var H=j(F.value);e.save(),e.translate(F.x+F.textX,F.y+F.textY),e.rotate(ni(y)),w.outlineWidth>0&&(e.strokeStyle=w.outlineColor,e.lineWidth=2*w.outlineWidth,e.lineJoin="round",e.strokeText(""+H,0,0)),E.axis.ticks.text.fill&&(e.fillStyle=w.fill),e.fillText(""+H,0,0),e.restore()}),M!==void 0){var D=0,P=0,R=0,Y="center";r==="y"?(R=-90,D=A,S==="start"?(Y="start",P=c):S==="middle"?(Y="center",P=c/2):S==="end"&&(Y="end")):(P=A,S==="start"?Y="start":S==="middle"?(Y="center",D=c/2):S==="end"&&(Y="end",D=c)),e.translate(D,P),e.rotate(ni(R)),e.font=(E.axis.legend.text.fontWeight?E.axis.legend.text.fontWeight+" ":"")+E.axis.legend.text.fontSize+"px "+E.axis.legend.text.fontFamily,E.axis.legend.text.fill&&(e.fillStyle=E.axis.legend.text.fill),e.textAlign=Y,e.textBaseline="middle",e.fillText(M,0,0)}e.restore()},Ds=function(e,n){var t=n.xScale,r=n.yScale,i=n.width,o=n.height,a=n.top,s=n.right,u=n.bottom,c=n.left,h=n.theme,l={top:a,right:s,bottom:u,left:c};Wr.forEach(function(f){var d=l[f];if(!d)return null;var m=f==="top"||f==="bottom",g=f==="top"||f==="left"?"before":"after",p=m?t:r,y=Yr(d.format,p);Bs(e,fe({},d,{axis:m?"x":"y",x:f==="right"?i:0,y:f==="bottom"?o:0,scale:p,format:y,length:m?i:o,ticksPosition:g,theme:h}))})},Ii=function(e,n){var t=n.width,r=n.height,i=n.scale,o=n.axis,a=n.values;kt({width:t,height:r,scale:i,axis:o,values:a}).forEach(function(s){e.beginPath(),e.moveTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.stroke()})},yt,Ri;function Os(){if(Ri)return yt;Ri=1;var e=Go(),n=0;function t(r){var i=++n;return e(r)+i}return yt=t,yt}var Is=Os();const Rs=Dn(Is),Ee=11102230246251565e-32,J=134217729,Ys=(3+8*Ee)*Ee;function vt(e,n,t,r,i){let o,a,s,u,c=n[0],h=r[0],l=0,f=0;h>c==h>-c?(o=c,c=n[++l]):(o=h,h=r[++f]);let d=0;if(l<e&&f<t)for(h>c==h>-c?(a=c+o,s=o-(a-c),c=n[++l]):(a=h+o,s=o-(a-h),h=r[++f]),o=a,s!==0&&(i[d++]=s);l<e&&f<t;)h>c==h>-c?(a=o+c,u=a-o,s=o-(a-u)+(c-u),c=n[++l]):(a=o+h,u=a-o,s=o-(a-u)+(h-u),h=r[++f]),o=a,s!==0&&(i[d++]=s);for(;l<e;)a=o+c,u=a-o,s=o-(a-u)+(c-u),c=n[++l],o=a,s!==0&&(i[d++]=s);for(;f<t;)a=o+h,u=a-o,s=o-(a-u)+(h-u),h=r[++f],o=a,s!==0&&(i[d++]=s);return(o!==0||d===0)&&(i[d++]=o),d}function Ws(e,n){let t=n[0];for(let r=1;r<e;r++)t+=n[r];return t}function bn(e){return new Float64Array(e)}const Ls=(3+16*Ee)*Ee,Hs=(2+12*Ee)*Ee,zs=(9+64*Ee)*Ee*Ee,rn=bn(4),Yi=bn(8),Wi=bn(12),Li=bn(16),ee=bn(4);function Gs(e,n,t,r,i,o,a){let s,u,c,h,l,f,d,m,g,p,y,v,M,k,S,b,A,E;const x=e-i,_=t-i,C=n-o,$=r-o;k=x*$,f=J*x,d=f-(f-x),m=x-d,f=J*$,g=f-(f-$),p=$-g,S=m*p-(k-d*g-m*g-d*p),b=C*_,f=J*C,d=f-(f-C),m=C-d,f=J*_,g=f-(f-_),p=_-g,A=m*p-(b-d*g-m*g-d*p),y=S-A,l=S-y,rn[0]=S-(y+l)+(l-A),v=k+y,l=v-k,M=k-(v-l)+(y-l),y=M-b,l=M-y,rn[1]=M-(y+l)+(l-b),E=v+y,l=E-v,rn[2]=v-(E-l)+(y-l),rn[3]=E;let w=Ws(4,rn),j=Hs*a;if(w>=j||-w>=j||(l=e-x,s=e-(x+l)+(l-i),l=t-_,c=t-(_+l)+(l-i),l=n-C,u=n-(C+l)+(l-o),l=r-$,h=r-($+l)+(l-o),s===0&&u===0&&c===0&&h===0)||(j=zs*a+Ys*Math.abs(w),w+=x*h+$*s-(C*c+_*u),w>=j||-w>=j))return w;k=s*$,f=J*s,d=f-(f-s),m=s-d,f=J*$,g=f-(f-$),p=$-g,S=m*p-(k-d*g-m*g-d*p),b=u*_,f=J*u,d=f-(f-u),m=u-d,f=J*_,g=f-(f-_),p=_-g,A=m*p-(b-d*g-m*g-d*p),y=S-A,l=S-y,ee[0]=S-(y+l)+(l-A),v=k+y,l=v-k,M=k-(v-l)+(y-l),y=M-b,l=M-y,ee[1]=M-(y+l)+(l-b),E=v+y,l=E-v,ee[2]=v-(E-l)+(y-l),ee[3]=E;const D=vt(4,rn,4,ee,Yi);k=x*h,f=J*x,d=f-(f-x),m=x-d,f=J*h,g=f-(f-h),p=h-g,S=m*p-(k-d*g-m*g-d*p),b=C*c,f=J*C,d=f-(f-C),m=C-d,f=J*c,g=f-(f-c),p=c-g,A=m*p-(b-d*g-m*g-d*p),y=S-A,l=S-y,ee[0]=S-(y+l)+(l-A),v=k+y,l=v-k,M=k-(v-l)+(y-l),y=M-b,l=M-y,ee[1]=M-(y+l)+(l-b),E=v+y,l=E-v,ee[2]=v-(E-l)+(y-l),ee[3]=E;const P=vt(D,Yi,4,ee,Wi);k=s*h,f=J*s,d=f-(f-s),m=s-d,f=J*h,g=f-(f-h),p=h-g,S=m*p-(k-d*g-m*g-d*p),b=u*c,f=J*u,d=f-(f-u),m=u-d,f=J*c,g=f-(f-c),p=c-g,A=m*p-(b-d*g-m*g-d*p),y=S-A,l=S-y,ee[0]=S-(y+l)+(l-A),v=k+y,l=v-k,M=k-(v-l)+(y-l),y=M-b,l=M-y,ee[1]=M-(y+l)+(l-b),E=v+y,l=E-v,ee[2]=v-(E-l)+(y-l),ee[3]=E;const R=vt(P,Wi,4,ee,Li);return Li[R-1]}function $n(e,n,t,r,i,o){const a=(n-o)*(t-i),s=(e-i)*(r-o),u=a-s,c=Math.abs(a+s);return Math.abs(u)>=Ls*c?u:-Gs(e,n,t,r,i,o,c)}const Hi=Math.pow(2,-52),An=new Uint32Array(512);class Bn{static from(n,t=Qs,r=Js){const i=n.length,o=new Float64Array(i*2);for(let a=0;a<i;a++){const s=n[a];o[2*a]=t(s),o[2*a+1]=r(s)}return new Bn(o)}constructor(n){const t=n.length>>1;if(t>0&&typeof n[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=n;const r=Math.max(2*t-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:n,_hullPrev:t,_hullNext:r,_hullTri:i,_hullHash:o}=this,a=n.length>>1;let s=1/0,u=1/0,c=-1/0,h=-1/0;for(let x=0;x<a;x++){const _=n[2*x],C=n[2*x+1];_<s&&(s=_),C<u&&(u=C),_>c&&(c=_),C>h&&(h=C),this._ids[x]=x}const l=(s+c)/2,f=(u+h)/2;let d,m,g;for(let x=0,_=1/0;x<a;x++){const C=xt(l,f,n[2*x],n[2*x+1]);C<_&&(d=x,_=C)}const p=n[2*d],y=n[2*d+1];for(let x=0,_=1/0;x<a;x++){if(x===d)continue;const C=xt(p,y,n[2*x],n[2*x+1]);C<_&&C>0&&(m=x,_=C)}let v=n[2*m],M=n[2*m+1],k=1/0;for(let x=0;x<a;x++){if(x===d||x===m)continue;const _=Ks(p,y,v,M,n[2*x],n[2*x+1]);_<k&&(g=x,k=_)}let S=n[2*g],b=n[2*g+1];if(k===1/0){for(let C=0;C<a;C++)this._dists[C]=n[2*C]-n[0]||n[2*C+1]-n[1];an(this._ids,this._dists,0,a-1);const x=new Uint32Array(a);let _=0;for(let C=0,$=-1/0;C<a;C++){const w=this._ids[C],j=this._dists[w];j>$&&(x[_++]=w,$=j)}this.hull=x.subarray(0,_),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if($n(p,y,v,M,S,b)<0){const x=m,_=v,C=M;m=g,v=S,M=b,g=x,S=_,b=C}const A=Ns(p,y,v,M,S,b);this._cx=A.x,this._cy=A.y;for(let x=0;x<a;x++)this._dists[x]=xt(n[2*x],n[2*x+1],A.x,A.y);an(this._ids,this._dists,0,a-1),this._hullStart=d;let E=3;r[d]=t[g]=m,r[m]=t[d]=g,r[g]=t[m]=d,i[d]=0,i[m]=1,i[g]=2,o.fill(-1),o[this._hashKey(p,y)]=d,o[this._hashKey(v,M)]=m,o[this._hashKey(S,b)]=g,this.trianglesLen=0,this._addTriangle(d,m,g,-1,-1,-1);for(let x=0,_,C;x<this._ids.length;x++){const $=this._ids[x],w=n[2*$],j=n[2*$+1];if(x>0&&Math.abs(w-_)<=Hi&&Math.abs(j-C)<=Hi||(_=w,C=j,$===d||$===m||$===g))continue;let D=0;for(let W=0,H=this._hashKey(w,j);W<this._hashSize&&(D=o[(H+W)%this._hashSize],!(D!==-1&&D!==r[D]));W++);D=t[D];let P=D,R;for(;R=r[P],$n(w,j,n[2*P],n[2*P+1],n[2*R],n[2*R+1])>=0;)if(P=R,P===D){P=-1;break}if(P===-1)continue;let Y=this._addTriangle(P,$,r[P],-1,-1,i[P]);i[$]=this._legalize(Y+2),i[P]=Y,E++;let F=r[P];for(;R=r[F],$n(w,j,n[2*F],n[2*F+1],n[2*R],n[2*R+1])<0;)Y=this._addTriangle(F,$,R,i[$],-1,i[F]),i[$]=this._legalize(Y+2),r[F]=F,E--,F=R;if(P===D)for(;R=t[P],$n(w,j,n[2*R],n[2*R+1],n[2*P],n[2*P+1])<0;)Y=this._addTriangle(R,$,P,-1,i[P],i[R]),this._legalize(Y+2),i[R]=Y,r[P]=P,E--,P=R;this._hullStart=t[$]=P,r[P]=t[F]=$,r[$]=F,o[this._hashKey(w,j)]=$,o[this._hashKey(n[2*P],n[2*P+1])]=P}this.hull=new Uint32Array(E);for(let x=0,_=this._hullStart;x<E;x++)this.hull[x]=_,_=r[_];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(n,t){return Math.floor(Xs(n-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(n){const{_triangles:t,_halfedges:r,coords:i}=this;let o=0,a=0;for(;;){const s=r[n],u=n-n%3;if(a=u+(n+2)%3,s===-1){if(o===0)break;n=An[--o];continue}const c=s-s%3,h=u+(n+1)%3,l=c+(s+2)%3,f=t[a],d=t[n],m=t[h],g=t[l];if(Vs(i[2*f],i[2*f+1],i[2*d],i[2*d+1],i[2*m],i[2*m+1],i[2*g],i[2*g+1])){t[n]=g,t[s]=f;const y=r[l];if(y===-1){let M=this._hullStart;do{if(this._hullTri[M]===l){this._hullTri[M]=n;break}M=this._hullPrev[M]}while(M!==this._hullStart)}this._link(n,y),this._link(s,r[a]),this._link(a,l);const v=c+(s+1)%3;o<An.length&&(An[o++]=v)}else{if(o===0)break;n=An[--o]}}return a}_link(n,t){this._halfedges[n]=t,t!==-1&&(this._halfedges[t]=n)}_addTriangle(n,t,r,i,o,a){const s=this.trianglesLen;return this._triangles[s]=n,this._triangles[s+1]=t,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,o),this._link(s+2,a),this.trianglesLen+=3,s}}function Xs(e,n){const t=e/(Math.abs(e)+Math.abs(n));return(n>0?3-t:1+t)/4}function xt(e,n,t,r){const i=e-t,o=n-r;return i*i+o*o}function Vs(e,n,t,r,i,o,a,s){const u=e-a,c=n-s,h=t-a,l=r-s,f=i-a,d=o-s,m=u*u+c*c,g=h*h+l*l,p=f*f+d*d;return u*(l*p-g*d)-c*(h*p-g*f)+m*(h*d-l*f)<0}function Ks(e,n,t,r,i,o){const a=t-e,s=r-n,u=i-e,c=o-n,h=a*a+s*s,l=u*u+c*c,f=.5/(a*c-s*u),d=(c*h-s*l)*f,m=(a*l-u*h)*f;return d*d+m*m}function Ns(e,n,t,r,i,o){const a=t-e,s=r-n,u=i-e,c=o-n,h=a*a+s*s,l=u*u+c*c,f=.5/(a*c-s*u),d=e+(c*h-s*l)*f,m=n+(a*l-u*h)*f;return{x:d,y:m}}function an(e,n,t,r){if(r-t<=20)for(let i=t+1;i<=r;i++){const o=e[i],a=n[o];let s=i-1;for(;s>=t&&n[e[s]]>a;)e[s+1]=e[s--];e[s+1]=o}else{const i=t+r>>1;let o=t+1,a=r;pn(e,i,o),n[e[t]]>n[e[r]]&&pn(e,t,r),n[e[o]]>n[e[r]]&&pn(e,o,r),n[e[t]]>n[e[o]]&&pn(e,t,o);const s=e[o],u=n[s];for(;;){do o++;while(n[e[o]]<u);do a--;while(n[e[a]]>u);if(a<o)break;pn(e,o,a)}e[t+1]=e[a],e[a]=s,r-o+1>=a-t?(an(e,n,o,r),an(e,n,t,a-1)):(an(e,n,t,a-1),an(e,n,o,r))}}function pn(e,n,t){const r=e[n];e[n]=e[t],e[t]=r}function Qs(e){return e[0]}function Js(e){return e[1]}const zi=1e-6;class Ve{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(n,t){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(n,t){this._+=`L${this._x1=+n},${this._y1=+t}`}arc(n,t,r){n=+n,t=+t,r=+r;const i=n+r,o=t;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>zi||Math.abs(this._y1-o)>zi)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${n-r},${t}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(n,t,r,i){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class Ct{constructor(){this._=[]}moveTo(n,t){this._.push([n,t])}closePath(){this._.push(this._[0].slice())}lineTo(n,t){this._.push([n,t])}value(){return this._.length?this._:null}}class Zs{constructor(n,[t,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(t=+t))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=n,this._circumcenters=new Float64Array(n.points.length*2),this.vectors=new Float64Array(n.points.length*2),this.xmax=i,this.xmin=t,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:n,hull:t,triangles:r},vectors:i}=this;let o,a;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,p=0,y=r.length,v,M;g<y;g+=3,p+=2){const k=r[g]*2,S=r[g+1]*2,b=r[g+2]*2,A=n[k],E=n[k+1],x=n[S],_=n[S+1],C=n[b],$=n[b+1],w=x-A,j=_-E,D=C-A,P=$-E,R=(w*P-j*D)*2;if(Math.abs(R)<1e-9){if(o===void 0){o=a=0;for(const F of t)o+=n[F*2],a+=n[F*2+1];o/=t.length,a/=t.length}const Y=1e9*Math.sign((o-A)*P-(a-E)*D);v=(A+C)/2-Y*P,M=(E+$)/2+Y*D}else{const Y=1/R,F=w*w+j*j,W=D*D+P*P;v=A+(P*F-j*W)*Y,M=E+(w*W-D*F)*Y}s[p]=v,s[p+1]=M}let u=t[t.length-1],c,h=u*4,l,f=n[2*u],d,m=n[2*u+1];i.fill(0);for(let g=0;g<t.length;++g)u=t[g],c=h,l=f,d=m,h=u*4,f=n[2*u],m=n[2*u+1],i[c+2]=i[h]=d-m,i[c+3]=i[h+1]=f-l}render(n){const t=n==null?n=new Ve:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:a,vectors:s}=this;if(o.length<=1)return null;for(let h=0,l=r.length;h<l;++h){const f=r[h];if(f<h)continue;const d=Math.floor(h/3)*2,m=Math.floor(f/3)*2,g=a[d],p=a[d+1],y=a[m],v=a[m+1];this._renderSegment(g,p,y,v,n)}let u,c=o[o.length-1];for(let h=0;h<o.length;++h){u=c,c=o[h];const l=Math.floor(i[c]/3)*2,f=a[l],d=a[l+1],m=u*4,g=this._project(f,d,s[m+2],s[m+3]);g&&this._renderSegment(f,d,g[0],g[1],n)}return t&&t.value()}renderBounds(n){const t=n==null?n=new Ve:void 0;return n.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(n,t){const r=t==null?t=new Ve:void 0,i=this._clip(n);if(i===null||!i.length)return;t.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&t.lineTo(i[a],i[a+1]);return t.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:n}}=this;for(let t=0,r=n.length/2;t<r;++t){const i=this.cellPolygon(t);i&&(i.index=t,yield i)}}cellPolygon(n){const t=new Ct;return this.renderCell(n,t),t.value()}_renderSegment(n,t,r,i,o){let a;const s=this._regioncode(n,t),u=this._regioncode(r,i);s===0&&u===0?(o.moveTo(n,t),o.lineTo(r,i)):(a=this._clipSegment(n,t,r,i,s,u))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(n,t,r){return t=+t,t!==t||(r=+r,r!==r)?!1:this.delaunay._step(n,t,r)===n}*neighbors(n){const t=this._clip(n);if(t)for(const r of this.delaunay.neighbors(n)){const i=this._clip(r);if(i){e:for(let o=0,a=t.length;o<a;o+=2)for(let s=0,u=i.length;s<u;s+=2)if(t[o]===i[s]&&t[o+1]===i[s+1]&&t[(o+2)%a]===i[(s+u-2)%u]&&t[(o+3)%a]===i[(s+u-1)%u]){yield r;break e}}}}_cell(n){const{circumcenters:t,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,a=r[n];if(a===-1)return null;const s=[];let u=a;do{const c=Math.floor(u/3);if(s.push(t[c*2],t[c*2+1]),u=u%3===2?u-2:u+1,o[u]!==n)break;u=i[u]}while(u!==a&&u!==-1);return s}_clip(n){if(n===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(n);if(t===null)return null;const{vectors:r}=this,i=n*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(n,t,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(n,t))}_clipFinite(n,t){const r=t.length;let i=null,o,a,s=t[r-2],u=t[r-1],c,h=this._regioncode(s,u),l,f=0;for(let d=0;d<r;d+=2)if(o=s,a=u,s=t[d],u=t[d+1],c=h,h=this._regioncode(s,u),c===0&&h===0)l=f,f=0,i?i.push(s,u):i=[s,u];else{let m,g,p,y,v;if(c===0){if((m=this._clipSegment(o,a,s,u,c,h))===null)continue;[g,p,y,v]=m}else{if((m=this._clipSegment(s,u,o,a,h,c))===null)continue;[y,v,g,p]=m,l=f,f=this._edgecode(g,p),l&&f&&this._edge(n,l,f,i,i.length),i?i.push(g,p):i=[g,p]}l=f,f=this._edgecode(y,v),l&&f&&this._edge(n,l,f,i,i.length),i?i.push(y,v):i=[y,v]}if(i)l=f,f=this._edgecode(i[0],i[1]),l&&f&&this._edge(n,l,f,i,i.length);else if(this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(n,t,r,i,o,a){const s=o<a;for(s&&([n,t,r,i,o,a]=[r,i,n,t,a,o]);;){if(o===0&&a===0)return s?[r,i,n,t]:[n,t,r,i];if(o&a)return null;let u,c,h=o||a;h&8?(u=n+(r-n)*(this.ymax-t)/(i-t),c=this.ymax):h&4?(u=n+(r-n)*(this.ymin-t)/(i-t),c=this.ymin):h&2?(c=t+(i-t)*(this.xmax-n)/(r-n),u=this.xmax):(c=t+(i-t)*(this.xmin-n)/(r-n),u=this.xmin),o?(n=u,t=c,o=this._regioncode(n,t)):(r=u,i=c,a=this._regioncode(r,i))}}_clipInfinite(n,t,r,i,o,a){let s=Array.from(t),u;if((u=this._project(s[0],s[1],r,i))&&s.unshift(u[0],u[1]),(u=this._project(s[s.length-2],s[s.length-1],o,a))&&s.push(u[0],u[1]),s=this._clipFinite(n,s))for(let c=0,h=s.length,l,f=this._edgecode(s[h-2],s[h-1]);c<h;c+=2)l=f,f=this._edgecode(s[c],s[c+1]),l&&f&&(c=this._edge(n,l,f,s,c),h=s.length);else this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(n,t,r,i,o){for(;t!==r;){let a,s;switch(t){case 5:t=4;continue;case 4:t=6,a=this.xmax,s=this.ymin;break;case 6:t=2;continue;case 2:t=10,a=this.xmax,s=this.ymax;break;case 10:t=8;continue;case 8:t=9,a=this.xmin,s=this.ymax;break;case 9:t=1;continue;case 1:t=5,a=this.xmin,s=this.ymin;break}(i[o]!==a||i[o+1]!==s)&&this.contains(n,a,s)&&(i.splice(o,0,a,s),o+=2)}return o}_project(n,t,r,i){let o=1/0,a,s,u;if(i<0){if(t<=this.ymin)return null;(a=(this.ymin-t)/i)<o&&(u=this.ymin,s=n+(o=a)*r)}else if(i>0){if(t>=this.ymax)return null;(a=(this.ymax-t)/i)<o&&(u=this.ymax,s=n+(o=a)*r)}if(r>0){if(n>=this.xmax)return null;(a=(this.xmax-n)/r)<o&&(s=this.xmax,u=t+(o=a)*i)}else if(r<0){if(n<=this.xmin)return null;(a=(this.xmin-n)/r)<o&&(s=this.xmin,u=t+(o=a)*i)}return[s,u]}_edgecode(n,t){return(n===this.xmin?1:n===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(n,t){return(n<this.xmin?1:n>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(n){if(n&&n.length>4){for(let t=0;t<n.length;t+=2){const r=(t+2)%n.length,i=(t+4)%n.length;(n[t]===n[r]&&n[r]===n[i]||n[t+1]===n[r+1]&&n[r+1]===n[i+1])&&(n.splice(r,2),t-=2)}n.length||(n=null)}return n}}const eu=2*Math.PI,on=Math.pow;function nu(e){return e[0]}function tu(e){return e[1]}function iu(e){const{triangles:n,coords:t}=e;for(let r=0;r<n.length;r+=3){const i=2*n[r],o=2*n[r+1],a=2*n[r+2];if((t[a]-t[i])*(t[o+1]-t[i+1])-(t[o]-t[i])*(t[a+1]-t[i+1])>1e-10)return!1}return!0}function ru(e,n,t){return[e+Math.sin(e+n)*t,n+Math.cos(e-n)*t]}class Rt{static from(n,t=nu,r=tu,i){return new Rt("length"in n?ou(n,t,r,i):Float64Array.from(au(n,t,r,i)))}constructor(n){this._delaunator=new Bn(n),this.inedges=new Int32Array(n.length/2),this._hullIndex=new Int32Array(n.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const n=this._delaunator,t=this.points;if(n.hull&&n.hull.length>2&&iu(n)){this.collinear=Int32Array.from({length:t.length/2},(f,d)=>d).sort((f,d)=>t[2*f]-t[2*d]||t[2*f+1]-t[2*d+1]);const u=this.collinear[0],c=this.collinear[this.collinear.length-1],h=[t[2*u],t[2*u+1],t[2*c],t[2*c+1]],l=1e-8*Math.hypot(h[3]-h[1],h[2]-h[0]);for(let f=0,d=t.length/2;f<d;++f){const m=ru(t[2*f],t[2*f+1],l);t[2*f]=m[0],t[2*f+1]=m[1]}this._delaunator=new Bn(t)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let u=0,c=r.length;u<c;++u){const h=o[u%3===2?u-2:u+1];(r[u]===-1||a[h]===-1)&&(a[h]=u)}for(let u=0,c=i.length;u<c;++u)s[i[u]]=u;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(n){return new Zs(this,n)}*neighbors(n){const{inedges:t,hull:r,_hullIndex:i,halfedges:o,triangles:a,collinear:s}=this;if(s){const l=s.indexOf(n);l>0&&(yield s[l-1]),l<s.length-1&&(yield s[l+1]);return}const u=t[n];if(u===-1)return;let c=u,h=-1;do{if(yield h=a[c],c=c%3===2?c-2:c+1,a[c]!==n)return;if(c=o[c],c===-1){const l=r[(i[n]+1)%r.length];l!==h&&(yield l);return}}while(c!==u)}find(n,t,r=0){if(n=+n,n!==n||(t=+t,t!==t))return-1;const i=r;let o;for(;(o=this._step(r,n,t))>=0&&o!==r&&o!==i;)r=o;return o}_step(n,t,r){const{inedges:i,hull:o,_hullIndex:a,halfedges:s,triangles:u,points:c}=this;if(i[n]===-1||!c.length)return(n+1)%(c.length>>1);let h=n,l=on(t-c[n*2],2)+on(r-c[n*2+1],2);const f=i[n];let d=f;do{let m=u[d];const g=on(t-c[m*2],2)+on(r-c[m*2+1],2);if(g<l&&(l=g,h=m),d=d%3===2?d-2:d+1,u[d]!==n)break;if(d=s[d],d===-1){if(d=o[(a[n]+1)%o.length],d!==m&&on(t-c[d*2],2)+on(r-c[d*2+1],2)<l)return d;break}}while(d!==f);return h}render(n){const t=n==null?n=new Ve:void 0,{points:r,halfedges:i,triangles:o}=this;for(let a=0,s=i.length;a<s;++a){const u=i[a];if(u<a)continue;const c=o[a]*2,h=o[u]*2;n.moveTo(r[c],r[c+1]),n.lineTo(r[h],r[h+1])}return this.renderHull(n),t&&t.value()}renderPoints(n,t){t===void 0&&(!n||typeof n.moveTo!="function")&&(t=n,n=null),t=t==null?2:+t;const r=n==null?n=new Ve:void 0,{points:i}=this;for(let o=0,a=i.length;o<a;o+=2){const s=i[o],u=i[o+1];n.moveTo(s+t,u),n.arc(s,u,t,0,eu)}return r&&r.value()}renderHull(n){const t=n==null?n=new Ve:void 0,{hull:r,points:i}=this,o=r[0]*2,a=r.length;n.moveTo(i[o],i[o+1]);for(let s=1;s<a;++s){const u=2*r[s];n.lineTo(i[u],i[u+1])}return n.closePath(),t&&t.value()}hullPolygon(){const n=new Ct;return this.renderHull(n),n.value()}renderTriangle(n,t){const r=t==null?t=new Ve:void 0,{points:i,triangles:o}=this,a=o[n*=3]*2,s=o[n+1]*2,u=o[n+2]*2;return t.moveTo(i[a],i[a+1]),t.lineTo(i[s],i[s+1]),t.lineTo(i[u],i[u+1]),t.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:n}=this;for(let t=0,r=n.length/3;t<r;++t)yield this.trianglePolygon(t)}trianglePolygon(n){const t=new Ct;return this.renderTriangle(n,t),t.value()}}function ou(e,n,t,r){const i=e.length,o=new Float64Array(i*2);for(let a=0;a<i;++a){const s=e[a];o[a*2]=n.call(r,s,a,e),o[a*2+1]=t.call(r,s,a,e)}return o}function*au(e,n,t,r){let i=0;for(const o of e)yield n.call(r,o,i,e),yield t.call(r,o,i,e),++i}var Yt=function(e){return[e.x,e.y]},Mn=Vo,Lr="cursor",Hr="top",su=function(e){var n=e.points,t=e.getNodePosition,r=t===void 0?Yt:t,i=e.margin,o=i===void 0?Mn:i;return n.map(function(a){var s=r(a),u=s[0],c=s[1];return[u+o.left,c+o.top]})},uu=function(e){var n=e.points,t=e.width,r=e.height,i=e.margin,o=i===void 0?Mn:i,a=e.debug,s=Rt.from(n),u=a?s.voronoi([0,0,o.left+t+o.right,o.top+r+o.bottom]):void 0;return{points:n,delaunay:s,voronoi:u}},zr=function(e){var n=e.points,t=e.getNodePosition,r=t===void 0?Yt:t,i=e.width,o=e.height,a=e.margin,s=a===void 0?Mn:a,u=e.debug;return T.useMemo(function(){return uu({points:su({points:n,margin:s,getNodePosition:r}),width:i,height:o,margin:s,debug:u})},[n,i,o,s,u])},lu=function(e){var n=e.elementRef,t=e.nodes,r=e.getNodePosition,i=r===void 0?Yt:r,o=e.delaunay,a=e.setCurrent,s=e.margin,u=s===void 0?Mn:s,c=e.detectionRadius,h=c===void 0?1/0:c,l=e.isInteractive,f=l===void 0||l,d=e.onMouseEnter,m=e.onMouseMove,g=e.onMouseLeave,p=e.onClick,y=e.onTouchStart,v=e.onTouchMove,M=e.onTouchEnd,k=e.enableTouchCrosshair,S=k!==void 0&&k,b=e.tooltip,A=e.tooltipPosition,E=A===void 0?Lr:A,x=e.tooltipAnchor,_=x===void 0?Hr:x,C=T.useState(null),$=C[0],w=C[1],j=T.useRef(null);T.useEffect(function(){j.current=$},[j,$]);var D=T.useCallback(function(U){if(!n.current)return null;var B=sr(n.current,U),O=B[0],L=B[1],V=o.find(O,L),K=V!==void 0?t[V]:null;if(K&&h!==1/0){var ie=i(K),ue=ie[0],Q=ie[1];Xo(O,L,ue+u.left,Q+u.top)>h&&(V=null,K=null)}return V===null||K===null?null:[V,K]},[n,o,t,i,u,h]),P=On(),R=P.showTooltipAt,Y=P.showTooltipFromEvent,F=P.hideTooltip,W=T.useMemo(function(){if(b)return E==="cursor"?function(U,B){Y(b(U),B,_)}:function(U){var B=i(U),O=B[0],L=B[1];R(b(U),[O+u.left,L+u.top],_)}},[R,Y,b,E,_,i,u]),H=T.useCallback(function(U){var B=D(U);if(w(B),a==null||a(B?B[1]:null),B){var O=B[1];W==null||W(O,U),d==null||d(B[1],U)}},[D,w,a,W,d]),Z=T.useCallback(function(U){var B=D(U);if(w(B),B){var O=B[0],L=B[1];if(a==null||a(L),W==null||W(L,U),j.current){var V=j.current,K=V[0],ie=V[1];O!==K?g==null||g(ie,U):m==null||m(L,U)}else d==null||d(L,U)}else a==null||a(null),F==null||F(),j.current&&(g==null||g(j.current[1],U))},[D,w,j,d,m,g,W,F]),oe=T.useCallback(function(U){w(null),a==null||a(null),F(),g&&j.current&&g(j.current[1],U)},[w,a,j,F,g]),ae=T.useCallback(function(U){var B=D(U);w(B),B&&(p==null||p(B[1],U))},[D,w,p]),he=T.useCallback(function(U){var B=D(U);S&&(w(B),a==null||a(B?B[1]:null)),B&&(y==null||y(B[1],U))},[D,w,a,S,y]),te=T.useCallback(function(U){var B=D(U);S&&(w(B),a==null||a(B?B[1]:null)),B&&(v==null||v(B[1],U))},[D,w,a,S,v]),se=T.useCallback(function(U){S&&(w(null),a==null||a(null)),M&&j.current&&M(j.current[1],U)},[S,w,a,M,j]);return{current:$,handleMouseEnter:f?H:void 0,handleMouseMove:f?Z:void 0,handleMouseLeave:f?oe:void 0,handleClick:f?ae:void 0,handleTouchStart:f?he:void 0,handleTouchMove:f?te:void 0,handleTouchEnd:f?se:void 0}},cu=function(e){var n=e.nodes,t=e.width,r=e.height,i=e.margin,o=i===void 0?Mn:i,a=e.getNodePosition,s=e.setCurrent,u=e.onMouseEnter,c=e.onMouseMove,h=e.onMouseLeave,l=e.onClick,f=e.onTouchStart,d=e.onTouchMove,m=e.onTouchEnd,g=e.enableTouchCrosshair,p=g!==void 0&&g,y=e.detectionRadius,v=y===void 0?1/0:y,M=e.tooltip,k=e.tooltipPosition,S=k===void 0?Lr:k,b=e.tooltipAnchor,A=b===void 0?Hr:b,E=e.debug,x=T.useRef(null),_=zr({points:n,getNodePosition:a,width:t,height:r,margin:o,debug:E}),C=_.delaunay,$=_.voronoi,w=lu({elementRef:x,nodes:n,delaunay:C,margin:o,detectionRadius:v,setCurrent:s,onMouseEnter:u,onMouseMove:c,onMouseLeave:h,onClick:l,onTouchStart:f,onTouchMove:d,onTouchEnd:m,enableTouchCrosshair:p,tooltip:M,tooltipPosition:S,tooltipAnchor:A}),j=w.current,D=w.handleMouseEnter,P=w.handleMouseMove,R=w.handleMouseLeave,Y=w.handleClick,F=w.handleTouchStart,W=w.handleTouchMove,H=w.handleTouchEnd,Z=T.useMemo(function(){if(E&&$)return $.render()},[E,$]);return q.jsxs("g",{ref:x,transform:"translate("+-o.left+","+-o.top+")",children:[E&&$&&q.jsxs(q.Fragment,{children:[q.jsx("path",{d:Z,stroke:"red",strokeWidth:1,opacity:.75}),v<1/0&&q.jsx("path",{stroke:"red",strokeWidth:.35,fill:"none",d:C.renderPoints(void 0,v)}),j&&q.jsx("path",{fill:"pink",opacity:.35,d:$.renderCell(j[0])})]}),q.jsx("rect",{"data-ref":"mesh-interceptor",width:o.left+t+o.right,height:o.top+r+o.bottom,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:D,onMouseMove:P,onMouseLeave:R,onTouchStart:F,onTouchMove:W,onTouchEnd:H,onClick:Y})]})},fu=function(e,n){e.save(),e.globalAlpha=.75,e.beginPath(),n.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()},hu=function(e,n,t){e.save(),e.globalAlpha=.35,e.beginPath(),n.renderCell(t,e),e.fillStyle="pink",e.fill(),e.restore()};function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ne.apply(this,arguments)}var Wt=T.memo(function(e){var n=e.point;return q.jsx(Ko,{id:q.jsxs("span",{children:["x: ",q.jsx("strong",{children:n.data.xFormatted}),", y:"," ",q.jsx("strong",{children:n.data.yFormatted})]}),enableChip:!0,color:n.serieColor})}),Gr=T.memo(function(e){var n=e.slice,t=e.axis,r=Ue(),i=t==="x"?"y":"x";return q.jsx(No,{rows:n.points.map(function(o){return[q.jsx(Qo,{color:o.serieColor,style:r.tooltip.chip},"chip"),o.serieId,q.jsx("span",{style:r.tooltip.tableCellValue,children:o.data[i+"Formatted"]},"value")]})})}),Xr={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:Wt,enableSlices:!1,debugSlices:!1,sliceTooltip:Gr,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},Ce=ne({},Xr,{enablePointLabel:!1,useMesh:!1,enableTouchCrosshair:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img",initialHiddenIds:[]});ne({},Xr,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1});var du=function(e){var n=e.curve;return T.useMemo(function(){return $r().defined(function(t){return t.x!==null&&t.y!==null}).x(function(t){return t.x}).y(function(t){return t.y}).curve(hr(n))},[n])},gu=function(e){var n=e.curve,t=e.yScale,r=e.areaBaselineValue;return T.useMemo(function(){return Ia().defined(function(i){return i.x!==null&&i.y!==null}).x(function(i){return i.x}).y1(function(i){return i.y}).curve(hr(n)).y0(t(r))},[n,t,r])},mu=function(e){var n=e.componentId,t=e.enableSlices,r=e.points,i=e.width,o=e.height;return T.useMemo(function(){if(t===!1)return[];if(t==="x"){var a=new Map;return r.forEach(function(u){u.data.x!==null&&u.data.y!==null&&(a.has(u.x)?a.get(u.x).push(u):a.set(u.x,[u]))}),Array.from(a.entries()).sort(function(u,c){return u[0]-c[0]}).map(function(u,c,h){var l,f,d=u[0],m=u[1],g=h[c-1],p=h[c+1];return l=g?d-(d-g[0])/2:d,f=p?d-l+(p[0]-d)/2:i-l,{id:"slice:"+n+":"+d,x0:l,x:d,y0:0,y:0,width:f,height:o,points:m.reverse()}})}if(t==="y"){var s=new Map;return r.forEach(function(u){u.data.x!==null&&u.data.y!==null&&(s.has(u.y)?s.get(u.y).push(u):s.set(u.y,[u]))}),Array.from(s.entries()).sort(function(u,c){return u[0]-c[0]}).map(function(u,c,h){var l,f,d=u[0],m=u[1],g=h[c-1],p=h[c+1];return l=g?d-(d-g[0])/2:d,f=p?d-l+(p[0]-d)/2:o-l,{id:d,x0:0,x:0,y0:l,y:d,width:i,height:f,points:m.reverse()}})}},[n,t,o,r,i])},pu="line",Vr=function(e){var n=e.data,t=e.xScale,r=t===void 0?Ce.xScale:t,i=e.xFormat,o=e.yScale,a=o===void 0?Ce.yScale:o,s=e.yFormat,u=e.width,c=e.height,h=e.colors,l=h===void 0?Ce.colors:h,f=e.curve,d=f===void 0?Ce.curve:f,m=e.areaBaselineValue,g=m===void 0?Ce.areaBaselineValue:m,p=e.pointColor,y=p===void 0?Ce.pointColor:p,v=e.pointBorderColor,M=v===void 0?Ce.pointBorderColor:v,k=e.enableSlices,S=k===void 0?Ce.enableSlicesTooltip:k,b=e.initialHiddenIds,A=b===void 0?Ce.initialHiddenIds:b,E=T.useState(Rs(pu))[0],x=ii(i),_=ii(s),C=aa(l,"id"),$=Ue(),w=jn(y,$),j=jn(M,$),D=T.useState(A??[]),P=D[0],R=D[1],Y=T.useMemo(function(){return ks(n.filter(function(U){return P.indexOf(U.id)===-1}),r,a,u,c)},[n,P,r,a,u,c]),F=Y.xScale,W=Y.yScale,H=Y.series,Z=T.useMemo(function(){var U=n.map(function(O){return{id:O.id,label:O.id,color:C(O)}}),B=U.map(function(O){return ne({},H.find(function(L){return L.id===O.id}),{color:O.color})}).filter(function(O){return!!O.id});return{legendData:U.map(function(O){return ne({},O,{hidden:!B.find(function(L){return L.id===O.id})})}).reverse(),series:B}},[n,H,C]),oe=Z.legendData,ae=Z.series,he=T.useCallback(function(U){R(function(B){return B.indexOf(U)>-1?B.filter(function(O){return O!==U}):[].concat(B,[U])})},[]),te=function(U){var B=U.series,O=U.getPointColor,L=U.getPointBorderColor,V=U.formatX,K=U.formatY;return T.useMemo(function(){return B.reduce(function(ie,ue){return[].concat(ie,ue.data.filter(function(Q){return Q.position.x!==null&&Q.position.y!==null}).map(function(Q,de){var ge={id:ue.id+"."+de,index:ie.length+de,serieId:ue.id,serieColor:ue.color,x:Q.position.x,y:Q.position.y};return ge.color=O(ue),ge.borderColor=L(ge),ge.data=ne({},Q.data,{xFormatted:V(Q.data.x),yFormatted:K(Q.data.y)}),ge}))},[])},[B,O,L,V,K])}({series:ae,getPointColor:w,getPointBorderColor:j,formatX:x,formatY:_}),se=mu({componentId:E,enableSlices:S,points:te,width:u,height:c});return{legendData:oe,toggleSerie:he,lineGenerator:du({curve:d}),areaGenerator:gu({curve:d,yScale:W,areaBaselineValue:g}),getColor:C,series:ae,xScale:F,yScale:W,slices:se,points:te}},yu=function(e){var n=e.areaBlendMode,t=e.areaOpacity,r=e.color,i=e.fill,o=e.path,a=St(),s=a.animate,u=a.config,c=ur(o),h=ar({color:r,config:u,immediate:!s});return q.jsx(je.path,{d:c,fill:i||h.color,fillOpacity:t,strokeWidth:0,style:{mixBlendMode:n}})},vu=T.memo(function(e){var n=e.areaGenerator,t=e.areaOpacity,r=e.areaBlendMode,i=e.lines.slice(0).reverse();return q.jsx("g",{children:i.map(function(o){return q.jsx(yu,ne({path:n(o.data.map(function(a){return a.position}))},ne({areaOpacity:t,areaBlendMode:r},o)),o.id)})})}),xu=T.memo(function(e){var n=e.lineGenerator,t=e.points,r=e.color,i=e.thickness,o=T.useMemo(function(){return n(t)},[n,t]),a=ur(o);return q.jsx(je.path,{d:a,fill:"none",strokeWidth:i,stroke:r})}),bu=T.memo(function(e){var n=e.lines,t=e.lineGenerator,r=e.lineWidth;return n.slice(0).reverse().map(function(i){var o=i.id,a=i.data,s=i.color;return q.jsx(xu,{id:o,points:a.map(function(u){return u.position}),lineGenerator:t,color:s,thickness:r},o)})}),Mu=T.memo(function(e){var n=e.slice,t=e.slices,r=e.axis,i=e.debug,o=e.tooltip,a=e.isCurrent,s=e.setCurrent,u=e.onMouseEnter,c=e.onMouseMove,h=e.onMouseLeave,l=e.onClick,f=e.onTouchStart,d=e.onTouchMove,m=e.onTouchEnd,g=On(),p=g.showTooltipFromEvent,y=g.hideTooltip,v=T.useCallback(function(x){p(T.createElement(o,{slice:n,axis:r}),x,"right"),s(n),u&&u(n,x)},[p,o,n,r,s,u]),M=T.useCallback(function(x){p(T.createElement(o,{slice:n,axis:r}),x,"right"),c&&c(n,x)},[p,o,n,r,c]),k=T.useCallback(function(x){y(),s(null),h&&h(n,x)},[y,s,h,n]),S=T.useCallback(function(x){l&&l(n,x)},[n,l]),b=T.useCallback(function(x){p(T.createElement(o,{slice:n,axis:r}),x,"right"),s(n),f&&f(n,x)},[r,f,s,p,n,o]),A=T.useCallback(function(x){var _=x.touches[0],C=document.elementFromPoint(_.clientX,_.clientY),$=C==null?void 0:C.getAttribute("data-ref");if($){var w=t.find(function(j){return j.id===$});w&&(p(T.createElement(o,{slice:w,axis:r}),x,"right"),s(w))}d&&d(n,x)},[r,d,s,p,n,t,o]),E=T.useCallback(function(x){y(),s(null),m&&m(n,x)},[y,s,m,n]);return q.jsx("rect",{x:n.x0,y:n.y0,width:n.width,height:n.height,stroke:"red",strokeWidth:i?1:0,strokeOpacity:.75,fill:"red",fillOpacity:a&&i?.35:0,onMouseEnter:v,onMouseMove:M,onMouseLeave:k,onClick:S,onTouchStart:b,onTouchMove:A,onTouchEnd:E,"data-ref":n.id})}),_u=T.memo(function(e){var n=e.slices,t=e.axis,r=e.debug,i=e.height,o=e.tooltip,a=e.current,s=e.setCurrent,u=e.onMouseEnter,c=e.onMouseMove,h=e.onMouseLeave,l=e.onClick,f=e.onTouchStart,d=e.onTouchMove,m=e.onTouchEnd;return n.map(function(g){return q.jsx(Mu,{slice:g,slices:n,axis:t,debug:r,height:i,tooltip:o,setCurrent:s,isCurrent:a!==null&&a.id===g.id,onMouseEnter:u,onMouseMove:c,onMouseLeave:h,onClick:l,onTouchStart:f,onTouchMove:d,onTouchEnd:m},g.id)})}),Tu=T.memo(function(e){var n=e.points,t=e.symbol,r=e.size,i=e.borderWidth,o=e.enableLabel,a=e.label,s=e.labelYOffset,u=Ue(),c=Jo(a),h=n.slice(0).reverse().map(function(l){return{id:l.id,x:l.x,y:l.y,datum:l.data,fill:l.color,stroke:l.borderColor,label:o?c(l):null}});return q.jsx("g",{children:h.map(function(l){return q.jsx(Zo,{x:l.x,y:l.y,datum:l.datum,symbol:t,size:r,color:l.fill,borderWidth:i,borderColor:l.stroke,label:l.label,labelYOffset:s,theme:u},l.id)})})}),ku=T.memo(function(e){var n=e.points,t=e.width,r=e.height,i=e.margin,o=e.setCurrent,a=e.onMouseEnter,s=e.onMouseMove,u=e.onMouseLeave,c=e.onClick,h=e.onTouchStart,l=e.onTouchMove,f=e.onTouchEnd,d=e.tooltip,m=e.debug,g=e.enableTouchCrosshair,p=On(),y=p.showTooltipAt,v=p.hideTooltip,M=T.useCallback(function(_,C){y(T.createElement(d,{point:_}),[_.x+i.left,_.y+i.top],"top"),a&&a(_,C)},[y,d,a,i]),k=T.useCallback(function(_,C){y(T.createElement(d,{point:_}),[_.x+i.left,_.y+i.top],"top"),s&&s(_,C)},[y,d,i.left,i.top,s]),S=T.useCallback(function(_,C){v(),u&&u(_,C)},[v,u]),b=T.useCallback(function(_,C){c&&c(_,C)},[c]),A=T.useCallback(function(_,C){y(T.createElement(d,{point:_}),[_.x+i.left,_.y+i.top],"top"),h&&h(_,C)},[i.left,i.top,h,y,d]),E=T.useCallback(function(_,C){y(T.createElement(d,{point:_}),[_.x+i.left,_.y+i.top],"top"),l&&l(_,C)},[i.left,i.top,l,y,d]),x=T.useCallback(function(_,C){v(),f&&f(_,C)},[f,v]);return q.jsx(cu,{nodes:n,width:t,height:r,setCurrent:o,onMouseEnter:M,onMouseMove:k,onMouseLeave:S,onClick:b,onTouchStart:A,onTouchMove:E,onTouchEnd:x,enableTouchCrosshair:g,debug:m})}),Cu=lr(function(e){var n=e.data,t=e.xScale,r=t===void 0?{type:"point"}:t,i=e.xFormat,o=e.yScale,a=o===void 0?{type:"linear",min:0,max:"auto"}:o,s=e.yFormat,u=e.layers,c=u===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:u,h=e.curve,l=h===void 0?"linear":h,f=e.areaBaselineValue,d=f===void 0?0:f,m=e.colors,g=m===void 0?{scheme:"nivo"}:m,p=e.margin,y=e.width,v=e.height,M=e.axisTop,k=e.axisRight,S=e.axisBottom,b=S===void 0?{}:S,A=e.axisLeft,E=A===void 0?{}:A,x=e.enableGridX,_=x===void 0||x,C=e.enableGridY,$=C===void 0||C,w=e.gridXValues,j=e.gridYValues,D=e.lineWidth,P=D===void 0?2:D,R=e.enableArea,Y=R!==void 0&&R,F=e.areaOpacity,W=F===void 0?.2:F,H=e.areaBlendMode,Z=H===void 0?"normal":H,oe=e.enablePoints,ae=oe===void 0||oe,he=e.pointSymbol,te=e.pointSize,se=te===void 0?6:te,U=e.pointColor,B=U===void 0?{from:"color"}:U,O=e.pointBorderWidth,L=O===void 0?0:O,V=e.pointBorderColor,K=V===void 0?{theme:"background"}:V,ie=e.enablePointLabel,ue=ie!==void 0&&ie,Q=e.pointLabel,de=Q===void 0?"data.yFormatted":Q,ge=e.pointLabelYOffset,sn=e.defs,un=sn===void 0?[]:sn,Qe=e.fill,_n=Qe===void 0?[]:Qe,Tn=e.markers,ln=e.legends,Be=ln===void 0?[]:ln,me=e.isInteractive,re=me===void 0||me,le=e.useMesh,De=le!==void 0&&le,$e=e.debugMesh,xe=$e!==void 0&&$e,cn=e.onMouseEnter,be=e.onMouseMove,Ae=e.onMouseLeave,Me=e.onClick,Oe=e.onTouchStart,Je=e.onTouchMove,pe=e.onTouchEnd,Ie=e.tooltip,Ze=Ie===void 0?Wt:Ie,Pe=e.enableSlices,Fe=Pe!==void 0&&Pe,fn=e.debugSlices,kn=fn!==void 0&&fn,Re=e.sliceTooltip,Cn=Re===void 0?Gr:Re,hn=e.enableCrosshair,en=hn===void 0||hn,dn=e.crosshairType,Yn=dn===void 0?"bottom-left":dn,wn=e.enableTouchCrosshair,I=wn!==void 0&&wn,z=e.role,_e=z===void 0?"img":z,Ye=e.initialHiddenIds,G=Ye===void 0?[]:Ye,We=fr(y,v,p),Lt=We.margin,Te=We.innerWidth,ye=We.innerHeight,Kr=We.outerWidth,Nr=We.outerHeight,ke=Vr({data:n,xScale:r,xFormat:i,yScale:a,yFormat:s,width:Te,height:ye,colors:g,curve:l,areaBaselineValue:d,pointColor:B,pointBorderColor:K,enableSlices:Fe,initialHiddenIds:G}),Qr=ke.legendData,Jr=ke.toggleSerie,Ht=ke.lineGenerator,zt=ke.areaGenerator,Sn=ke.series,En=ke.xScale,qn=ke.yScale,Gt=ke.slices,Wn=ke.points,nn=Ue(),Zr=jn(B,nn),eo=jn(K,nn),Xt=T.useState(null),gn=Xt[0],Vt=Xt[1],Kt=T.useState(null),mn=Kt[0],Nt=Kt[1],Le={grid:q.jsx(Us,{theme:nn,width:Te,height:ye,xScale:_?En:null,yScale:$?qn:null,xValues:w,yValues:j},"grid"),markers:q.jsx(ea,{markers:Tn,width:Te,height:ye,xScale:En,yScale:qn,theme:nn},"markers"),axes:q.jsx(Fs,{xScale:En,yScale:qn,width:Te,height:ye,theme:nn,top:M,right:k,bottom:b,left:E},"axes"),areas:null,lines:q.jsx(bu,{lines:Sn,lineGenerator:Ht,lineWidth:P},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:Be.map(function(He,Ln){return q.jsx(na,ne({},He,{containerWidth:Te,containerHeight:ye,data:He.data||Qr,theme:nn,toggleSerie:He.toggleSerie?Jr:void 0}),"legend."+Ln)})},no=ta(un,Sn,_n);return Y&&(Le.areas=q.jsx(vu,{areaGenerator:zt,areaOpacity:W,areaBlendMode:Z,lines:Sn},"areas")),re&&Fe!==!1&&(Le.slices=q.jsx(_u,{slices:Gt,axis:Fe,debug:kn,height:ye,tooltip:Cn,current:mn,setCurrent:Nt,onMouseEnter:cn,onMouseMove:be,onMouseLeave:Ae,onClick:Me,onTouchStart:Oe,onTouchMove:Je,onTouchEnd:pe},"slices")),ae&&(Le.points=q.jsx(Tu,{points:Wn,symbol:he,size:se,color:Zr,borderWidth:L,borderColor:eo,enableLabel:ue,label:de,labelYOffset:ge},"points")),re&&en&&(gn!==null&&(Le.crosshair=q.jsx(ti,{width:Te,height:ye,x:gn.x,y:gn.y,type:Yn},"crosshair")),mn!==null&&(Le.crosshair=q.jsx(ti,{width:Te,height:ye,x:mn.x,y:mn.y,type:Fe},"crosshair"))),re&&De&&Fe===!1&&(Le.mesh=q.jsx(ku,{points:Wn,width:Te,height:ye,margin:Lt,current:gn,setCurrent:Vt,onMouseEnter:cn,onMouseMove:be,onMouseLeave:Ae,onClick:Me,onTouchStart:Oe,onTouchMove:Je,onTouchEnd:pe,tooltip:Ze,enableTouchCrosshair:I,debug:xe},"mesh")),q.jsx(ia,{defs:no,width:Kr,height:Nr,margin:Lt,role:_e,children:c.map(function(He,Ln){return typeof He=="function"?q.jsx(T.Fragment,{children:He(ne({},e,{innerWidth:Te,innerHeight:ye,series:Sn,slices:Gt,points:Wn,xScale:En,yScale:qn,lineGenerator:Ht,areaGenerator:zt,currentPoint:gn,setCurrentPoint:Vt,currentSlice:mn,setCurrentSlice:Nt}))},Ln):Le[He]})})}),wu=function(e){return q.jsx(cr,{children:function(n){var t=n.width,r=n.height;return q.jsx(Cu,ne({width:t,height:r},e))}})},Su=lr(function(e){var n=T.useRef(null),t=e.width,r=e.height,i=e.margin,o=e.pixelRatio,a=o===void 0?typeof window<"u"&&window.devicePixelRatio||1:o,s=e.data,u=e.xScale,c=u===void 0?{type:"point"}:u,h=e.xFormat,l=e.yScale,f=l===void 0?{type:"linear",min:0,max:"auto"}:l,d=e.yFormat,m=e.curve,g=m===void 0?"linear":m,p=e.layers,y=p===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:p,v=e.colors,M=v===void 0?{scheme:"nivo"}:v,k=e.lineWidth,S=k===void 0?2:k,b=e.enableArea,A=b!==void 0&&b,E=e.areaBaselineValue,x=E===void 0?0:E,_=e.areaOpacity,C=_===void 0?.2:_,$=e.enablePoints,w=$===void 0||$,j=e.pointSize,D=j===void 0?6:j,P=e.pointColor,R=P===void 0?{from:"color"}:P,Y=e.pointBorderWidth,F=Y===void 0?0:Y,W=e.pointBorderColor,H=W===void 0?{theme:"background"}:W,Z=e.enableGridX,oe=Z===void 0||Z,ae=e.gridXValues,he=e.enableGridY,te=he===void 0||he,se=e.gridYValues,U=e.axisTop,B=e.axisRight,O=e.axisBottom,L=O===void 0?{}:O,V=e.axisLeft,K=V===void 0?{}:V,ie=e.legends,ue=ie===void 0?[]:ie,Q=e.isInteractive,de=Q===void 0||Q,ge=e.debugMesh,sn=ge!==void 0&&ge,un=e.onMouseLeave,Qe=e.onClick,_n=e.tooltip,Tn=_n===void 0?Wt:_n,ln=e.canvasRef,Be=fr(t,r,i),me=Be.margin,re=Be.innerWidth,le=Be.innerHeight,De=Be.outerWidth,$e=Be.outerHeight,xe=Ue(),cn=T.useState(null),be=cn[0],Ae=cn[1],Me=Vr({data:s,xScale:c,xFormat:h,yScale:f,yFormat:d,width:re,height:le,colors:M,curve:g,areaBaselineValue:x,pointColor:R,pointBorderColor:H}),Oe=Me.lineGenerator,Je=Me.areaGenerator,pe=Me.series,Ie=Me.xScale,Ze=Me.yScale,Pe=Me.points,Fe=zr({points:Pe,width:re,height:le,debug:sn}),fn=Fe.delaunay,kn=Fe.voronoi;T.useEffect(function(){ln&&(ln.current=n.current),n.current.width=De*a,n.current.height=$e*a;var I=n.current.getContext("2d");I.scale(a,a),I.fillStyle=xe.background,I.fillRect(0,0,De,$e),I.translate(me.left,me.top),y.forEach(function(z){if(typeof z=="function"&&z({ctx:I,innerWidth:re,innerHeight:le,series:pe,points:Pe,xScale:Ie,yScale:Ze,lineWidth:S,lineGenerator:Oe,areaGenerator:Je,currentPoint:be,setCurrentPoint:Ae}),z==="grid"&&xe.grid.line.strokeWidth>0&&(I.lineWidth=xe.grid.line.strokeWidth,I.strokeStyle=xe.grid.line.stroke,oe&&Ii(I,{width:re,height:le,scale:Ie,axis:"x",values:ae}),te&&Ii(I,{width:re,height:le,scale:Ze,axis:"y",values:se})),z==="axes"&&Ds(I,{xScale:Ie,yScale:Ze,width:re,height:le,top:U,right:B,bottom:L,left:K,theme:xe}),z==="areas"&&A===!0){I.save(),I.globalAlpha=C,Je.context(I);for(var _e=pe.length-1;_e>=0;_e--)I.fillStyle=pe[_e].color,I.beginPath(),Je(pe[_e].data.map(function(G){return G.position})),I.fill();I.restore()}if(z==="lines"&&(Oe.context(I),pe.forEach(function(G){I.strokeStyle=G.color,I.lineWidth=S,I.beginPath(),Oe(G.data.map(function(We){return We.position})),I.stroke()})),z==="points"&&w===!0&&D>0&&Pe.forEach(function(G){I.fillStyle=G.color,I.beginPath(),I.arc(G.x,G.y,D/2,0,2*Math.PI),I.fill(),F>0&&(I.strokeStyle=G.borderColor,I.lineWidth=F,I.stroke())}),z==="mesh"&&sn===!0&&(fu(I,kn),be&&hu(I,kn,be.index)),z==="legends"){var Ye=pe.map(function(G){return{id:G.id,label:G.id,color:G.color}}).reverse();ue.forEach(function(G){ra(I,ne({},G,{data:G.data||Ye,containerWidth:re,containerHeight:le,theme:xe}))})}})},[n,De,$e,y,xe,Oe,pe,Ie,Ze,oe,ae,te,se,U,B,L,K,ue,Pe,w,D,be]);var Re=T.useCallback(function(I){var z=sr(n.current,I),_e=z[0],Ye=z[1];if(!oa(me.left,me.top,re,le,_e,Ye))return null;var G=fn.find(_e-me.left,Ye-me.top);return Pe[G]},[n,me,re,le,fn]),Cn=On(),hn=Cn.showTooltipFromEvent,en=Cn.hideTooltip,dn=T.useCallback(function(I){var z=Re(I);Ae(z),z?hn(T.createElement(Tn,{point:z}),I):en()},[Re,Ae,hn,en,Tn]),Yn=T.useCallback(function(I){en(),Ae(null),be&&un&&un(be,I)},[en,Ae,un]),wn=T.useCallback(function(I){if(Qe){var z=Re(I);z&&Qe(z,I)}},[Re,Qe]);return q.jsx("canvas",{ref:n,width:De*a,height:$e*a,style:{width:De,height:$e,cursor:de?"auto":"normal"},onMouseEnter:de?dn:void 0,onMouseMove:de?dn:void 0,onMouseLeave:de?Yn:void 0,onClick:de?wn:void 0})}),Eu=T.forwardRef(function(e,n){return q.jsx(Su,ne({},e,{canvasRef:n}))});T.forwardRef(function(e,n){return q.jsx(cr,{children:function(t){var r=t.width,i=t.height;return q.jsx(Eu,ne({width:r,height:i},e,{ref:n}))}})});const Pu=({pilots:e,results:n,relativeMode:t})=>{const i=new Date;i.setMonth(i.getMonth()-2);let o=e.map((s,u)=>({id:s,data:n[u].map(c=>({x:new Date(c.date),y:c.trackTime/1e3})).filter(c=>c.x>=i)}));const a={};for(const s of o)for(const u of s.data)a[u.x.valueOf()]=(a[u.x.valueOf()]||0)+1;for(const s of o)s.data=s.data.filter(u=>a[u.x.valueOf()]==o.length);if(t){const s=[];for(let u=0;u<o.length;u++){if(u==0)continue;s.push(o[u]);const c=o[u];for(let h=0;h<c.data.length;h++){const l=c.data[h];l.y=(o[0].data[h].y-l.y)/o[0].data[h].y}}o=s}return q.jsx(wu,{data:o,margin:{top:50,right:110,bottom:50,left:60},xScale:{format:"%Y-%m-%d",precision:"day",type:"time",useUTC:!1},yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.2f",xFormat:"time:%Y-%m-%d",axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:-45,legend:"Date",legendPosition:"middle",truncateTickAt:0,format:"%b %d",legendOffset:-12,tickValues:"every 2 days"},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Time (seconds)",legendOffset:-40,legendPosition:"middle",truncateTickAt:0},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"data.yFormatted",pointLabelYOffset:-12,enableTouchCrosshair:!0,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})};export{Pu as default};
