{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "VelocidroneBot Configuration",
  "type": "object",
  "properties": {
    "ConnectionStrings": {
      "type": "object",
      "properties": {
        "DefaultConnection": {
          "type": "string",
          "description": "SQLite connection string for the main database"
        },
        "HangfireConnection": {
          "type": "string",
          "description": "SQLite connection string for Hangfire background jobs"
        }
      }
    },
    "Logging": {
      "type": "object",
      "properties": {
        "LogLevel": {
          "type": "object",
          "properties": {
            "Default": {
              "type": "string",
              "enum": ["Trace", "Debug", "Information", "Warning", "Error", "Critical", "None"]
            },
            "Microsoft.AspNetCore": {
              "type": "string",
              "enum": ["Trace", "Debug", "Information", "Warning", "Error", "Critical", "None"]
            }
          }
        }
      }
    },
    "Logger": {
      "type": "object",
      "properties": {
        "Path": {
          "type": "string",
          "description": "File path for log output"
        },
        "SematextToken": {
          "type": "string",
          "description": "Token for Sematext logging service"
        }
      }
    },
    "AllowedHosts": {
      "type": "string",
      "description": "Semicolon-separated list of allowed hosts"
    },
    "RunMigrations": {
      "type": "boolean",
      "description": "Whether to run database migrations on startup"
    },
    "Telegram": {
      "type": "object",
      "properties": {
        "BotToken": {
          "type": "string",
          "description": "Telegram bot authentication token"
        },
        "ChannelId": {
          "type": "string",
          "description": "Telegram channel ID for bot communications"
        }
      }
    },
    "Discord": {
      "type": "object",
      "properties": {
        "BotToken": {
          "type": "string",
          "description": "Discord bot authentication token"
        },
        "Channel": {
          "type": "string",
          "description": "Discord channel name for bot communications"
        }
      }
    },
    "API": {
      "type": "object",
      "properties": {
        "Token": {
          "type": "string",
          "description": "Velocidrone api authentication token"
        }
      }
    },
    "Patreon": {
      "type": "object",
      "properties": {
        "ClientId": {
          "type": "string",
          "description": "Patreon OAuth client ID"
        },
        "ClientSecret": {
          "type": "string",
          "description": "Patreon OAuth client secret"
        },
        "RedirectUri": {
          "type": "string",
          "format": "uri",
          "description": "Patreon OAuth redirect URI"
        },
        "AccessToken": {
          "type": "string",
          "description": "Patreon OAuth access token"
        },
        "RefreshToken": {
          "type": "string",
          "description": "Patreon OAuth refresh token"
        },
        "EnableSync": {
          "type": "boolean",
          "description": "Whether Patreon synchronization is enabled"
        }
      }
    },
    "PrometheusAuth": {
      "type": "object",
      "properties": {
        "Username": {
          "type": "string",
          "minLength": 1,
          "description": "Username required for accessing the /metrics endpoint."
        },
        "Password": {
          "type": "string",
          "minLength": 1,
          "description": "Password required for accessing the /metrics endpoint."
        }
      },
      "required": ["Username", "Password"],
      "additionalProperties": false
    }
  }
}
